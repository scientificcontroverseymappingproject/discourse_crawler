{"remainingRequest":"/Users/milescoleman/Desktop/discourse_crawler/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/milescoleman/Desktop/discourse_crawler/src/components/discourse_crawler.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/milescoleman/Desktop/discourse_crawler/src/components/discourse_crawler.vue","mtime":1715539793760},{"path":"/Users/milescoleman/Desktop/discourse_crawler/node_modules/cache-loader/dist/cjs.js","mtime":1715539792492},{"path":"/Users/milescoleman/Desktop/discourse_crawler/node_modules/babel-loader/lib/index.js","mtime":1715539792463},{"path":"/Users/milescoleman/Desktop/discourse_crawler/node_modules/cache-loader/dist/cjs.js","mtime":1715539792492},{"path":"/Users/milescoleman/Desktop/discourse_crawler/node_modules/vue-loader/lib/index.js","mtime":1715539793651}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8vaW1wb3J0IHBhcmFsbGVsZG90cyBmcm9tICJwYXJhbGxlbGRvdHMiOwppbXBvcnQgKiBhcyBycyBmcm9tICJ0ZXh0LXJlYWRhYmlsaXR5IjsKLy9pbXBvcnQgKiBhcyBjaGVlcmlvIGZyb20gJ2NoZWVyaW8nOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgUGxvdGx5IGZyb20gInBsb3RseS5qcy1kaXN0IjsKaW1wb3J0IGRvdGVudiBmcm9tICJkb3RlbnYiOwppbXBvcnQgcm9ib3RzUGFyc2VyIGZyb20gJ3JvYm90cy10eHQtcGFyc2VyJwovL2ltcG9ydCBPcGVuQUkgZnJvbSAib3BlbmFpIjsKZG90ZW52LmNvbmZpZygpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImRpc2NvdXJzZV9jcmF3bGVyIiwKICBwcm9wczoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1zZzogIkRpc2NvdXJzZSBDcmF3bGVyIiwKICAgICAgbXNnMjogIkFuIEFJLXBvd2VyZWQgdG9vbCBmb3IgcGVyZm9ybWluZyB0b3AtbGV2ZWwgYW5hbHlzaXMgb2Ygd2Vic2l0ZXMuIiwKICAgICAgbXNnMzogIiIsCiAgICAgIG1zZzU6ICIiLAogICAgICBtc2c2OiAiIiwKICAgICAgcGFjbWFuOiB0cnVlLAogICAgICBwcm9ncmVzczogdHJ1ZSwKICAgICAgcmF3RGF0YTogdHJ1ZSwKICAgICAgbG9hZGVyOiB0cnVlLAogICAgICBsb2FkZXIyOiB0cnVlLAogICAgICBvdmVyYWxsUXVhbnQ6IGZhbHNlLAogICAgICB1cmxUb1NjcmFwZTogImh0dHBzOi8vd3d3Lm1pbGVzY2NvbGVtYW4uY29tL3Rlc3QkIiwKICAgICAgcGFnZVRleHQ6ICIiLAogICAgICBwYWdlVHlwZTogIndob2xlIiwKICAgICAgb25lOiAwLAogICAgICB0d286IDAsCiAgICAgIHRocmVlOiAwLAogICAgICBmb3VyOiAwLAogICAgICBmaXZlOiAwLAogICAgICBzaXg6IDAsCiAgICAgIHNob3dQYXNzd29yZDogZmFsc2UsCiAgICAgIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5WVUVfQVBQX1JPT1RfUEFTU1dPUkQsCiAgICAgIHNob3dQYXNzd29yZDI6IHRydWUsCiAgICAgIHVzZXJQYXNzd29yZDogIiIsCiAgICAgIHJlYWRhYmlsaXR5OiAwLAogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBzaG93UHJvY2VzczogdHJ1ZSwKICAgICAgc2hvd1Byb2Nlc3MyOiB0cnVlLAogICAgICBzaG93UHJvY2VzczM6IHRydWUsCiAgICAgIHNob3dQcm9tcHQ6IHRydWUsCiAgICAgIGFuY2hvcnNGb3JDcmF3bDogW10sCiAgICAgIHNlY29uZEl0ZXJhdGlvbjogZmFsc2UsCiAgICAgIEpTT04xOiBudWxsLAogICAgICBKU09OMjogbnVsbCwKICAgICAgSlNPTjM6IG51bGwsCiAgICAgIEpTT040OiBudWxsLAogICAgICBtb3JhbEZvdW5kYXRpb25BbmFseXNpczogIiIsCiAgICAgIGFwaUtFWTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9ST09UX0FQSSwKICAgICAgcHJvbXB0SW5wdXQ6CiAgICAgICAgIlBlcmZvcm0gc2VudGltZW50IGFuYWx5c2lzIG9uIHRoZSBmb2xsb3dpbmcgdGV4dCwgb3V0cHV0dGluZyBzY29yZXMgYmV0d2VlbiAxIGFuZCAxMCBmb3IgIiwKICAgICAgcHJvbXB0SW5wdXQyOgogICAgICAgICJBbmFseXplIHRoaXMgdGV4dCB0byBpZGVudGlmeSB3aGljaCBvZiB0aGUgZml2ZSBtb3JhbCBmb3VuZGF0aW9ucyB0aGF0IGl0IHJlcHJlc2VudHMgb3V0IG9mIGNhcmUsIGZhaXJuZXNzLCBsb3lhbHR5LCBhdXRob3JpdHksIGFuZCBwdXJpdHkuIEluY2x1ZGUgYW4gZXhwbGFuYXRpb24uIEluY2x1ZGUgaW4geW91ciByZXNwb25zZSBvbmx5IGlkZW50aWZpZWQgbW9yYWwgZm91bmRhdGlvbnMuIFRleHQ6ICIsCiAgICAgIHZhcmlhYmxlT25lOiAiYW5nZXIiLAogICAgICB2YXJpYWJsZVR3bzogImZlYXIiLAogICAgICB2YXJpYWJsZVRocmVlOiAiaGFwcGluZXNzIiwKICAgICAgdmFyaWFibGVGb3VyOiAic3VycHJpc2UiLAogICAgICB2YXJpYWJsZUZpdmU6ICJzYWRuZXNzIiwKICAgICAgdmFyaWFibGVTaXg6ICJkaXNndXN0IiwKICAgICAgdW5pcXVlOiBbXSwKICAgICAgb3ZlcmFsbFN1bW1hcnlPdXRwdXQ6ICIiLAogICAgICBvdmVyYWxsT3V0cHV0RXhwbGFuYXRpb246ICIiLAogICAgICBzaG93UHJpbnQ6IHRydWUsCiAgICAgIHF1YWxRdWFudFN1bW1hcnk6IGZhbHNlLAogICAgICBkYXRhU2V0OiAiIiwKICAgICAgSlNPTkhvbGRlcjogIiIsCiAgICAgIGRhdGFJbnB1dDogZmFsc2UsCiAgICAgIHNob3dEYXRhQnV0b246IGZhbHNlLAogICAgICBkZWxheVRpbWU6IDMwMDAsCiAgICAgIG92ZXJhbGxOdW1iZXI6ICIiLAogICAgICBnb0FoZWFkOiBmYWxzZSwgCiAgICAgIHJvYm90c0RvbWFpbjogIiIsIAogICAgICByb2JvdHNEb3RUZXh0OiAiIiwgCiAgICAgIHByb3h5Um9ib3RzVXJsOiAiIgogICAgfTsKICB9LAoKICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7fSwKCiAgbWV0aG9kczogewogICAgcmVnaXN0ZXJWYXJpYWJsZXM6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaG93UHJvbXB0ID0gZmFsc2U7CiAgICAgIGNvbnN0IHdvcmtpbmdVcmwgPSB0aGlzLnVybFRvU2NyYXBlOwogICAgICBpZiAodGhpcy52YXJpYWJsZU9uZSA9PSAiIiB8fCB0aGlzLnByb21wdElucHV0MiA9PSAiIikgewogICAgICAgIGFsZXJ0KCJQbGVhc2UgZmlsbCBvdXQgdGhlIHByb21wdCBwYXJhbWV0ZXJzIGZ1bGx5LiIpOwogICAgICB9CiAgICAgIGlmICghd29ya2luZ1VybC5lbmRzV2l0aCgiLyIpKSB7CiAgICAgICAgdGhpcy51cmxUb1NjcmFwZSA9IHRoaXMudXJsVG9TY3JhcGUgKyAiLyI7CiAgICAgICAgY29uc29sZS5sb2coImFkZGVkIHNsYXNoIik7CiAgICAgIH0KICAgIH0sCgogICAgY2hlY2tQYXNzV29yZDogZnVuY3Rpb24gKCkgewogICAgICBpZiAodGhpcy51c2VyUGFzc3dvcmQgPT0gdGhpcy5wYXNzd29yZCkgewogICAgICAgIHRoaXMuc2hvd1Bhc3N3b3JkID0gdHJ1ZTsKICAgICAgICB0aGlzLnNob3dQYXNzd29yZDIgPSBmYWxzZTsKICAgICAgICB0aGlzLm1zZyA9ICJEaXNjb3Vyc2UgQ3Jhd2xlciI7CiAgICAgICAgdGhpcy5tc2cyID0KICAgICAgICAgICJBbiBBSS1wb3dlcmVkIHRvb2wgZm9yIHBlcmZvcm1pbmcgdG9wLWxldmVsIGFuYWx5c2lzIG9mIHdlYnNpdGVzLiI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tc2cgPSAiaW5jb3JyZWN0IHBhc3N3b3JkIjsKICAgICAgICB0aGlzLm1zZzIgPSAidHJ5IGFnYWluIjsKICAgICAgfQogICAgfSwKCiAgICBjaGVja0JvdHM6IGZ1bmN0aW9uICgpIHsKCgogICAgICB2YXIgcGF0aEFycmF5ID0gdGhpcy51cmxUb1NjcmFwZS5zcGxpdCggJy8nICk7CnZhciBwcm90b2NvbCA9IHBhdGhBcnJheVswXTsKdmFyIGhvc3QgPSBwYXRoQXJyYXlbMl07CnRoaXMucm9ib3RzRG9tYWluID0gcHJvdG9jb2wgKyAnLy8nICsgaG9zdDsKdGhpcy5wcm94eVJvYm90c1VybCA9ICAgImh0dHBzOi8vYXBpLmFsbG9yaWdpbnMud2luL3Jhdz91cmw9IiArCiAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMucm9ib3RzRG9tYWluICsgIi9yb2JvdHMudHh0IikKY29uc3Qgcm9ib3RzVXJsID0gdGhpcy5wcm94eVJvYm90c1VybApjb25zb2xlLmxvZyhyb2JvdHNVcmwpCgpheGlvcwogICAgICAgIC5nZXQocm9ib3RzVXJsKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy5yb2JvdHNEb3RUZXh0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5yb2JvdHNEb3RUZXh0KQoKICAgICAgY29uc3Qgcm9ib3RzID0gcm9ib3RzUGFyc2VyKAogICAgICAgIHsKICAgICAgICAgIHVzZXJBZ2VudDogJ0dvb2dsZWJvdCcsIC8vIFRoZSBkZWZhdWx0IHVzZXIgYWdlbnQgdG8gdXNlIHdoZW4gbG9va2luZyBmb3IgYWxsb3cvZGlzYWxsb3cgcnVsZXMsIGlmIHRoaXMgYWdlbnQgaXNuJ3QgbGlzdGVkIGluIHRoZSBhY3RpdmUgcm9ib3RzLnR4dCwgd2UgdXNlICouCiAgICAgICAgICBhbGxvd09uTmV1dHJhbDogZmFsc2UsIC8vIFRoZSB2YWx1ZSB0byB1c2Ugd2hlbiB0aGUgcm9ib3RzLnR4dCBydWxlJ3MgZm9yIGFsbG93IGFuZCBkaXNhbGxvdyBhcmUgYmFsYW5jZWQgb24gd2hldGhlciBhIGxpbmsgY2FuIGJlIGNyYXdsZWQuCiAgICAgICAgfSwKICAgICAgKTsKICAgICAgcm9ib3RzLnBhcnNlUm9ib3RzKHRoaXMucm9ib3RzRG9tYWluLCB0aGlzLnJvYm90c0RvdFRleHQpCgogICAgICAgICAgcm9ib3RzLmNhbkNyYXdsU3luYyh0aGlzLnJvYm90c0RvbWFpbik7IC8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgbGluayBjYW4gYmUgY3Jhd2xlZCwgZmFsc2UgaWYgbm90LgogICAgICAgICAgcm9ib3RzLmNhbkNyYXdsKHRoaXMucm9ib3RzRG9tYWluLCAodmFsdWUpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yb2JvdHNEb21haW4gKyAnOiBtYWluIFBhZ2UgQ3Jhd2xhYmxlOiAnLCB2YWx1ZSk7CiAgICAgICAgICAgIHRoaXMuZ29BaGVhZCA9IHZhbHVlCgogICAgICAgICAgICBpZiAodGhpcy5nb0FoZWFkID09IHRydWUpIHsKICAgICAgICAgICAgICB0aGlzLmdyYWJQYWdlKCkKICAgICAgICAgICAgICB0aGlzLmdvQWhlYWQgPSBmYWxzZQogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5tc2cgPSAiY2Fubm90IGNyYXdsIHBhZ2UgYXMgcGVyIHJvYm90cy50eHQiCiAgICAgICAgICAgICAgdGhpcy5nb0FoZWFkID0gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSk7IAp9KQogICAgICAgICAgICAuY2F0Y2goKGVycm9ycykgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9ycyk7CiAgICAgICAgICAgICAgfSkKICAgIH0sCgogICAgY2hlY2tGb3JRdWFsUXVhbnRTdW1tYXJ5OiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IHdvcmtpbmdVcmwyID0gdGhpcy51cmxUb1NjcmFwZTsKICAgICAgY29uc29sZS5sb2cod29ya2luZ1VybDIpOwogICAgICB0aGlzLnByb2dyZXNzID0gZmFsc2U7CiAgICAgIGlmICh3b3JraW5nVXJsMiA9PSAiZGF0YSIpIHsKICAgICAgICB0aGlzLmRhdGFJbnB1dCA9IHRydWU7CiAgICAgICAgdGhpcy5zaG93RGF0YUJ1dG9uID0gdHJ1ZTsKICAgICAgfQoKICAgICAgaWYgKHdvcmtpbmdVcmwyICE9ICJkYXRhIikgewogICAgICAgIGlmICh3b3JraW5nVXJsMi5lbmRzV2l0aCgiJCIpKSB7CiAgICAgICAgICB0aGlzLnF1YWxRdWFudFN1bW1hcnkgPSB0cnVlOwogICAgICAgICAgdGhpcy51cmxUb1NjcmFwZSA9IHdvcmtpbmdVcmwyLnNsaWNlKDAsIC0xKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJxdWFscXVhbnQgc3VtbWFyeSBmb3IgIiArIHRoaXMudXJsVG9TY3JhcGUpOwogICAgICAgICAgdGhpcy5jaGVja0JvdHMoKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNoZWNrQm90cygpCiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIHJ1blByb21wdHNPbkRhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5yZWdpc3RlckRhdGEoKTsKCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuZ2V0RW1vdGlvblN0YXRzKCk7CiAgICAgIH0sIDMwMDApOwogICAgfSwKCiAgICByZWdpc3RlckRhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzOwogICAgICB2YXIgZmlsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZmlsZVVwbG9hZCIpLmZpbGVzOwogICAgICBpZiAoZmlsZXMubGVuZ3RoIDw9IDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBmciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICBmci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKGUudGFyZ2V0LnJlc3VsdCk7CiAgICAgICAgaW5zdGFuY2UuZGF0YVNldCA9IHJlc3VsdDsKICAgICAgfTsKCiAgICAgIGZyLnJlYWRBc1RleHQoZmlsZXMuaXRlbSgwKSk7CiAgICB9LAoKICAgIGdyYWJQYWdlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMucmVnaXN0ZXJWYXJpYWJsZXMoKTsKICAgICAgdGhpcy5tc2cgPSAiSW5pdGlhbGl6aW5nIjsKICAgICAgdGhpcy5tc2cyID0gIiI7CiAgICAgIHRoaXMuc2hvd1Byb2Nlc3MgPSBmYWxzZTsKICAgICAgY29uc3QgdXJsID0KICAgICAgICAiaHR0cHM6Ly9hcGkuYWxsb3JpZ2lucy53aW4vcmF3P3VybD0iICsKICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodGhpcy51cmxUb1NjcmFwZSk7IC8vKyImY2FsbGJhY2s9PyI7CiAgICAgIGNvbnN0IHJvYm90cyA9IHJvYm90c1BhcnNlcigKICAgICAgICB7CiAgICAgICAgICB1c2VyQWdlbnQ6ICdHb29nbGVib3QnLCAvLyBUaGUgZGVmYXVsdCB1c2VyIGFnZW50IHRvIHVzZSB3aGVuIGxvb2tpbmcgZm9yIGFsbG93L2Rpc2FsbG93IHJ1bGVzLCBpZiB0aGlzIGFnZW50IGlzbid0IGxpc3RlZCBpbiB0aGUgYWN0aXZlIHJvYm90cy50eHQsIHdlIHVzZSAqLgogICAgICAgICAgYWxsb3dPbk5ldXRyYWw6IGZhbHNlLCAvLyBUaGUgdmFsdWUgdG8gdXNlIHdoZW4gdGhlIHJvYm90cy50eHQgcnVsZSdzIGZvciBhbGxvdyBhbmQgZGlzYWxsb3cgYXJlIGJhbGFuY2VkIG9uIHdoZXRoZXIgYSBsaW5rIGNhbiBiZSBjcmF3bGVkLgogICAgICAgIH0sCiAgICAgICk7CiAgICAgIGF4aW9zCiAgICAgICAgLmdldCh1cmwpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICBjb25zdCBkYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGNvbnN0IGRhdGEyID0gZGF0YS5yZXBsYWNlKC9ccysvZywgIiAiKS50cmltKCk7CiAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICBjb25zdCBodG1sID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhkYXRhMiwgInRleHQvaHRtbCIpOwogICAgICAgICAgY29uc3Qgd29ya2luZ0hUTUwgPSBodG1sOwogICAgICAgICAgd29ya2luZ0hUTUwKICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdCwgc3R5bGUiKQogICAgICAgICAgICAuZm9yRWFjaCgocykgPT4gcy5yZW1vdmUoKSk7CiAgICAgICAgICBsZXQgaHRtbFdpdGhvdXRTY3JpcHRzID0gd29ya2luZ0hUTUwKICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoImJvZHkiKQogICAgICAgICAgICAuaW5uZXJUZXh0LnRyaW0oKTsKCiAgICAgICAgICBpZiAodGhpcy5zZWNvbmRJdGVyYXRpb24gPT0gZmFsc2UpIHsKICAgICAgICAgICAgdmFyIGFuY2hvcnMgPSBbXSwKICAgICAgICAgICAgICBsID0gaHRtbC5saW5rczsKICAgICAgICAgICAgYW5jaG9ycy5wdXNoKHRoaXMudXJsVG9TY3JhcGUpOwogICAgICAgICAgICBjb25zdCB0aWNrZXJBID0gaHRtbC5saW5rcy5sZW5ndGg7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIGNvbnN0IGNvdW50ZXJUaWNrZXJBID0gaTsKCiAgICAgICAgICAgICAgCgoKCiAgICAgICAgICAgICAgaWYgKGh0bWwubGlua3NbaV0uaHJlZi5pbmNsdWRlcyh0aGlzLnVybFRvU2NyYXBlKSkgewogICAgICAgICAgICAgICAgaWYgKCFodG1sLmxpbmtzW2ldLmhyZWYuaW5jbHVkZXMoIi5wZGYiIHx8ICIlIikpIHsKcm9ib3RzLnBhcnNlUm9ib3RzKHRoaXMucm9ib3RzRG9tYWluLCB0aGlzLnJvYm90c0RvdFRleHQpCiAgICAgICAgICAgICAgICAgIHJvYm90cy51c2VSb2JvdHNGb3IodGhpcy5yb2JvdHNEb21haW4pCiAgICAgICAgICByb2JvdHMuY2FuQ3Jhd2xTeW5jKGh0bWwubGlua3NbaV0uaHJlZik7IC8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgbGluayBjYW4gYmUgY3Jhd2xlZCwgZmFsc2UgaWYgbm90LgogICAgICAgICAgcm9ib3RzLmNhbkNyYXdsKGh0bWwubGlua3NbaV0uaHJlZiwgKHZhbHVlKSA9PiB7CiAgICAgICAgICAgIAogICAgICAgICAgICB0aGlzLmdvQWhlYWQgPSB2YWx1ZQoKICAgICAgICAgICAgaWYgKHRoaXMuZ29BaGVhZCA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgYW5jaG9ycy5wdXNoKGxbaV0uaHJlZik7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coaHRtbC5saW5rc1tpXS5ocmVmICsgJzogY3Jhd2xhYmxlOiAnLCB2YWx1ZSk7CiAgICAgICAgICAgICAgdGhpcy5nb0FoZWFkID0gZmFsc2UKICAgICAgICAgICAgfWVsc2UgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGxbaV0uaHJlZiArICI6IGNhbm5vdCBjcmF3bCBwYWdlIGFzIHBlciByb2JvdHMudHh0IikKICAgICAgICAgICAgICB0aGlzLmdvQWhlYWQgPSBmYWxzZQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoY291bnRlclRpY2tlckEgPT09IHRpY2tlckEgLSAxKSB7CiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VUZXh0ID0gaHRtbFdpdGhvdXRTY3JpcHRzOwogICAgICAgICAgICAgICAgdGhpcy5hbmNob3JzRm9yQ3Jhd2wgPSBhbmNob3JzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgcG9zKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBhbmNob3JzLmluZGV4T2YoaXRlbSkgPT0gcG9zOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciAzIHNlY29uZHMuIik7CiAgICAgICAgICAgICAgICAgIHRoaXMuZ3JhYlN1YnBhZ2VzKCk7CiAgICAgICAgICAgICAgICB9LCAzMDAwKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICB9KTsgCgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGh0bWwubGlua3NbaV0uaHJlZi5pbmNsdWRlcyh3aW5kb3cubG9jYXRpb24ub3JpZ2luKSkgewogICAgICAgICAgICAgICAgaWYgKCFodG1sLmxpbmtzW2ldLmhyZWYuaW5jbHVkZXMoIi5wZGYiIHx8ICIlIikpIHsKICAgICAgICAgICAgICAgICAgY29uc3QgaHRtbENvbnN0cnVjdG9yID0KICAgICAgICAgICAgICAgICAgICB0aGlzLnVybFRvU2NyYXBlICsKICAgICAgICAgICAgICAgICAgICBodG1sLmxpbmtzW2ldLmhyZWYucmVwbGFjZSgKICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAiLyIsCiAgICAgICAgICAgICAgICAgICAgICAiIgogICAgICAgICAgICAgICAgICAgICk7CnJvYm90cy5wYXJzZVJvYm90cyh0aGlzLnJvYm90c0RvbWFpbiwgdGhpcy5yb2JvdHNEb3RUZXh0KQogICAgICAgICAgICAgICAgICAgIHJvYm90cy51c2VSb2JvdHNGb3IodGhpcy5yb2JvdHNEb21haW4pCiAgICAgICAgICByb2JvdHMuY2FuQ3Jhd2xTeW5jKGh0bWxDb25zdHJ1Y3Rvcik7IC8vIFJldHVybnMgdHJ1ZSBpZiB0aGUgbGluayBjYW4gYmUgY3Jhd2xlZCwgZmFsc2UgaWYgbm90LgogICAgICAgICAgcm9ib3RzLmNhbkNyYXdsKGh0bWxDb25zdHJ1Y3RvciwgKHZhbHVlKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZ29BaGVhZCA9IHZhbHVlCgogICAgICAgICAgICBpZiAodGhpcy5nb0FoZWFkID09IHRydWUpIHsKICAgICAgICAgICAgICBhbmNob3JzLnB1c2goaHRtbENvbnN0cnVjdG9yKTsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhodG1sQ29uc3RydWN0b3IgKyAnOiBjcmF3bGFibGU6ICcsIHZhbHVlKTsKICAgICAgICAgICAgICB0aGlzLmdvQWhlYWQgPSBmYWxzZQogICAgICAgICAgICB9ZWxzZSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coaHRtbENvbnN0cnVjdG9yICsgIjogY2Fubm90IGNyYXdsIHBhZ2UgYXMgcGVyIHJvYm90cy50eHQiKQogICAgICAgICAgICAgIHRoaXMuZ29BaGVhZCA9IGZhbHNlCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChjb3VudGVyVGlja2VyQSA9PT0gdGlja2VyQSAtIDEpIHsKICAgICAgICAgICAgICAgIHRoaXMucGFnZVRleHQgPSBodG1sV2l0aG91dFNjcmlwdHM7CiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvcnNGb3JDcmF3bCA9IGFuY2hvcnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtLCBwb3MpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuY2hvcnMuaW5kZXhPZihpdGVtKSA9PSBwb3M7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRlbGF5ZWQgZm9yIDMgc2Vjb25kcy4iKTsKICAgICAgICAgICAgICAgICAgdGhpcy5ncmFiU3VicGFnZXMoKTsKICAgICAgICAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9ycykgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3JzKTsKICAgICAgICAgIHRoaXMubXNnID0gZXJyb3JzOyAvLyBFcnJvcnMgYW5kIHN0dWZmCiAgICAgICAgfSk7CiAgICB9LAoKICAgIGdyYWJTdWJwYWdlczogZnVuY3Rpb24gKCkgewogICAgICBsZXQgaSwKICAgICAgICBsZW4gPSB0aGlzLmFuY2hvcnNGb3JDcmF3bC5sZW5ndGg7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYW5jaG9yc0ZvckNyYXdsKTsKICAgICAgY29uc3QgdGlja2VyID0gdGhpcy5hbmNob3JzRm9yQ3Jhd2wubGVuZ3RoOwogICAgICBjb25zdCB3b3JraW5nQW5jaG9yc0FycmF5ID0gdGhpcy5hbmNob3JzRm9yQ3Jhd2w7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpczsKICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgZmlyZShpKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gZmlyZShpKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBjb25zdCB1c2FibGVVUkwgPSB3b3JraW5nQW5jaG9yc0FycmF5W2ldOwogICAgICAgICAgY29uc29sZS5sb2codXNhYmxlVVJMKTsKICAgICAgICAgIGluc3RhbmNlLnByb2dyZXNzID0gdHJ1ZTsKICAgICAgICAgIGluc3RhbmNlLnBhY21hbiA9IGZhbHNlOwogICAgICAgICAgaW5zdGFuY2UubXNnNiA9IHVzYWJsZVVSTDsKICAgICAgICAgIGNvbnN0IGNvdW50ZXJUaWNrZXIgPSBpOwoKICAgICAgICAgIHZhciB1cmwgPQogICAgICAgICAgICAiaHR0cHM6Ly9hcGkuYWxsb3JpZ2lucy53aW4vcmF3P3VybD0iICsKICAgICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHVzYWJsZVVSTCk7IC8vKyAiJmNhbGxiYWNrPT8iOwogICAgICAgICAgYXhpb3MKICAgICAgICAgICAgLmdldCh1cmwpCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgIGNvbnN0IGRhdGEyID0gZGF0YS5yZXBsYWNlKC9ccysvZywgIiAiKS50cmltKCk7CiAgICAgICAgICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGRhdGEyLCAidGV4dC9odG1sIik7CiAgICAgICAgICAgICAgY29uc3Qgd29ya2luZ0hUTUwgPSBodG1sOwogICAgICAgICAgICAgIHdvcmtpbmdIVE1MCiAgICAgICAgICAgICAgICAucXVlcnlTZWxlY3RvckFsbCgic2NyaXB0LCBzdHlsZSwgYnIsIGZvb3RlciwgbmF2LCBpZnJhbWUiKQogICAgICAgICAgICAgICAgLmZvckVhY2goKHMpID0+IHMucmVtb3ZlKCkpOwogICAgICAgICAgICAgIGxldCBodG1sV2l0aG91dFNjcmlwdHMgPSB3b3JraW5nSFRNTAogICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoImJvZHkiKQogICAgICAgICAgICAgICAgLmlubmVyVGV4dC50cmltKCk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNyYXdsaW5nOiIgKyBpICsgIiAiICsgdXNhYmxlVVJMKTsKCiAgICAgICAgICAgICAgaW5zdGFuY2UubXNnID0gIkNyYXdsaW5nIjsKICAgICAgICAgICAgICBjb25zdCBudW1iZXJBID0gaSArIDE7CiAgICAgICAgICAgICAgaW5zdGFuY2Uub3ZlcmFsbE51bWJlciA9IHdvcmtpbmdBbmNob3JzQXJyYXkubGVuZ3RoOwogICAgICAgICAgICAgIGluc3RhbmNlLm1zZzIgPQogICAgICAgICAgICAgICAgbnVtYmVyQSArCiAgICAgICAgICAgICAgICAiLyIgKwogICAgICAgICAgICAgICAgaW5zdGFuY2Uub3ZlcmFsbE51bWJlciArCiAgICAgICAgICAgICAgICAiOiAiICsKICAgICAgICAgICAgICAgIHdvcmtpbmdBbmNob3JzQXJyYXlbaV07CiAgICAgICAgICAgICAgdmFyIGFjdHVhbFRleHQgPSAiIjsKICAgICAgICAgICAgICBjb25zdCB3b3JraW5nQWN0dWFsVGV4dCA9IGh0bWxXaXRob3V0U2NyaXB0czsKICAgICAgICAgICAgICBjb25zdCB3b3JraW5nQWN0dWFsVGV4dDIgPSB3b3JraW5nQWN0dWFsVGV4dC5yZXBsYWNlKC8iL2csICIgIik7CiAgICAgICAgICAgICAgY29uc3QgYWN0dWFsVGV4dDIgPSB3b3JraW5nQWN0dWFsVGV4dDIucmVwbGFjZSgvJy9nLCAiICIpOwogICAgICAgICAgICAgIC8vIGNvbnN0IGFjdHVhbFRleHQ0ID0gYWN0dWFsVGV4dDMucmVwbGFjZSgvXHI/XG4/L2csICIiKTsKICAgICAgICAgICAgICAvLyBjb25zdCBhY3R1YWxUZXh0MiA9IGFjdHVhbFRleHQ0LnRyaW0oKTsKCiAgICAgICAgICAgICAgaWYgKGFjdHVhbFRleHQyLmxlbmd0aCA8PSA0OTk5OSkgewogICAgICAgICAgICAgICAgaWYgKGFjdHVhbFRleHQyLmVuZHNXaXRoKCIuIikpIHsKICAgICAgICAgICAgICAgICAgYWN0dWFsVGV4dCA9IGFjdHVhbFRleHQyOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicGVyaW9kIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFhY3R1YWxUZXh0Mi5lbmRzV2l0aCgiLiIpKSB7CiAgICAgICAgICAgICAgICAgIGFjdHVhbFRleHQgPSBhY3R1YWxUZXh0MiArICIuIjsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIm5vIHBlcmlvZCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy5wYWdlVHlwZSA9ICJ3aG9sZSI7CiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWNpZmljQW5hbHlzaXMiKTsKICAgICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBwLmlubmVySFRNTCA9CiAgICAgICAgICAgICAgICAgICd7InBhZ2VUeXBlIjonICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAnd2hvbGUnICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAnLCcgKwogICAgICAgICAgICAgICAgJyJuYW1lIjonICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgdXNhYmxlVVJMICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgJywnICsKICAgICAgICAgICAgICAgICAgJyJ0ZXh0IjonICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgYWN0dWFsVGV4dCArCiAgICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAgICd9LCc7CiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQocCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChhY3R1YWxUZXh0Mi5sZW5ndGggPj0gNDk5OTkpIHsKICAgICAgICAgICAgICAgIGlmIChhY3R1YWxUZXh0Mi5lbmRzV2l0aCgiLiIpKSB7CiAgICAgICAgICAgICAgICAgIGFjdHVhbFRleHQgPSBhY3R1YWxUZXh0Mi5zdWJzdHJpbmcoNDk5OTksIDApOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygicGVyaW9kIik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCFhY3R1YWxUZXh0Mi5lbmRzV2l0aCgiLiIpKSB7CiAgICAgICAgICAgICAgICAgIGFjdHVhbFRleHQgPSBhY3R1YWxUZXh0Mi5zdWJzdHJpbmcoNDk5OTksIDApICsgIi4iOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygibm8gcGVyaW9kIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VUeXBlID0gInBhcnRpYWwiOwogICAgICAgICAgICAgICAgdmFyIGRpdjIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpcyIpOwogICAgICAgICAgICAgICAgdmFyIHAyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgICBwMi5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgICAneyJwYWdlVHlwZSI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgJ3BhcnRpYWwnICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAnLCcgKwogICAgICAgICAgICAgICAgJyJuYW1lIjonICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgdXNhYmxlVVJMICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgJywnICsKICAgICAgICAgICAgICAgICAgJyJ0ZXh0IjonICsKICAgICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICAgYWN0dWFsVGV4dCArCiAgICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAgICd9LCc7CiAgICAgICAgICAgICAgICBkaXYyLmFwcGVuZENoaWxkKHAyKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKGNvdW50ZXJUaWNrZXIgPT09IHRpY2tlciAtIDEpIHsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRGVsYXllZCBmb3IgMiBzZWNvbmRzLiIpOwogICAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRFbW90aW9uU3RhdHMoKTsKICAgICAgICAgICAgICAgIH0sIDMwMDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnJvcnMpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcnMpOwogICAgICAgICAgICAgIHRoaXMubXNnID0gZXJyb3JzOyAKICAgICAgICAgICAgICB0aGlzLnBhZ2VUeXBlID0gIndob2xlIjsKICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpcyIpOwogICAgICAgICAgICAgICAgdmFyIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICAgIHAuaW5uZXJIVE1MID0KICAgICAgICAgICAgICAgICAgJ3sicGFnZVR5cGUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICdub3RfY3Jhd2xlZCcgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICcsJyArCiAgICAgICAgICAgICAgICAnIm5hbWUiOicgKwogICAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgICB1c2FibGVVUkwgKwogICAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgICAnLCcgKwogICAgICAgICAgICAgICAgICAnInRleHQiOicgKwogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgbnVsbCArCiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAnfSwnOwogICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHApOy8vIEVycm9ycwogICAgICAgICAgICB9KTsKICAgICAgICB9LCAzMDAwICogaSk7CiAgICAgIH0KICAgIH0sCgogICAgZ2V0RW1vdGlvblN0YXRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh0aGlzLmRhdGFJbnB1dCA9PT0gZmFsc2UpIHsKICAgICAgICB2YXIgd29ya2luZ0pTT04gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpcyIpLmlubmVyVGV4dDsKICAgICAgICBjb25zdCBtaWRkbGVKU09OID0gIlsiICsgd29ya2luZ0pTT04uc2xpY2UoMCwgLTEpICsgIl0iOwogICAgICAgIHRoaXMuSlNPTkhvbGRlciA9IEpTT04ucGFyc2UobWlkZGxlSlNPTik7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmRhdGFJbnB1dCA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuSlNPTkhvbGRlciA9IHRoaXMuZGF0YVNldDsKICAgICAgfQogICAgICBjb25zdCB3b3JraW5nSlNPTjEgPSB0aGlzLkpTT05Ib2xkZXI7CiAgICAgIGNvbnNvbGUubG9nKHdvcmtpbmdKU09OMS5sZW5ndGgpOwogICAgICBsZXQgaTIsCiAgICAgICAgbGVuMiA9IHdvcmtpbmdKU09OMS5sZW5ndGg7CiAgICAgIGNvbnN0IHRpY2tlcjIgPSB3b3JraW5nSlNPTjEubGVuZ3RoOwogICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXM7CgogICAgICB2YXIgY29tbWFPbmUgPSAiIjsKICAgICAgdmFyIGNvbW1hVHdvID0gIiI7CiAgICAgIHZhciBjb21tYVRocmVlID0gIiI7CiAgICAgIHZhciBjb21tYUZvdXIgPSAiIjsKICAgICAgdmFyIGNvbW1hRml2ZSA9ICIiOwogICAgICB2YXIganNvbk9uZSA9ICIiOwoKICAgICAgLy9hbGwgc2l4IHZhcmlhYmxlcwogICAgICBpZiAoCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUd28gIT0gIiIgJiYKICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVRocmVlICE9ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGb3VyICE9ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGaXZlICE9ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVTaXggIT0gIiIKICAgICAgKSB7CiAgICAgICAgY29tbWFPbmUgPSAiLCAiOwogICAgICAgIGNvbW1hVHdvID0gIiwgIjsKICAgICAgICBjb21tYVRocmVlID0gIiwgIjsKICAgICAgICBjb21tYUZvdXIgPSAiLCAiOwogICAgICAgIGNvbW1hRml2ZSA9ICIsIGFuZCAiOwogICAgICAgIGpzb25PbmUgPQogICAgICAgICAgJ3siJyArCiAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZU9uZSArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlLCcgKwogICAgICAgICAgJyInICsKICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVHdvICsKICAgICAgICAgICciOiBudW1iZXIgc2NvcmUsJyArCiAgICAgICAgICAnIicgKwogICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUaHJlZSArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlLCcgKwogICAgICAgICAgJyInICsKICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlRm91ciArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlLCcgKwogICAgICAgICAgJyInICsKICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlRml2ZSArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlLCcgKwogICAgICAgICAgJyInICsKICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlU2l4ICsKICAgICAgICAgICciOiBudW1iZXIgc2NvcmV9JzsKICAgICAgfQoKICAgICAgLy9maXZlIHZhcmlhYmxlcwogICAgICBpZiAoCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUd28gIT0gIiIgJiYKICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVRocmVlICE9ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGb3VyICE9ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGaXZlICE9ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVTaXggPT0gIiIKICAgICAgKSB7CiAgICAgICAgY29tbWFPbmUgPSAiLCAiOwogICAgICAgIGNvbW1hVHdvID0gIiwgIjsKICAgICAgICBjb21tYVRocmVlID0gIiwgIjsKICAgICAgICBjb21tYUZvdXIgPSAiLCBhbmQgIjsKICAgICAgICBjb21tYUZpdmUgPSAiIjsKICAgICAgICBqc29uT25lID0KICAgICAgICAgICd7IicgKwogICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVPbmUgKwogICAgICAgICAgJyI6IG51bWJlciBzY29yZSwnICsKICAgICAgICAgICciJyArCiAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVR3byArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlLCcgKwogICAgICAgICAgJyInICsKICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVGhyZWUgKwogICAgICAgICAgJyI6IG51bWJlciBzY29yZSwnICsKICAgICAgICAgICciJyArCiAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZvdXIgKwogICAgICAgICAgJyI6IG51bWJlciBzY29yZSwnICsKICAgICAgICAgICciJyArCiAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZpdmUgKwogICAgICAgICAgJyI6IG51bWJlciBzY29yZX0nOwogICAgICB9CgogICAgICAvL2ZvdXIgdmFyaWFibGVzCiAgICAgIGlmICgKICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVR3byAhPSAiIiAmJgogICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVGhyZWUgIT0gIiIgJiYKICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZvdXIgIT0gIiIgJiYKICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZpdmUgPT0gIiIgJiYKICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVNpeCA9PSAiIgogICAgICApIHsKICAgICAgICBjb21tYU9uZSA9ICIsICI7CiAgICAgICAgY29tbWFUd28gPSAiLCAiOwogICAgICAgIGNvbW1hVGhyZWUgPSAiLCBhbmQgIjsKICAgICAgICBjb21tYUZvdXIgPSAiIjsKICAgICAgICBjb21tYUZpdmUgPSAiIjsKICAgICAgICBqc29uT25lID0KICAgICAgICAgICd7IicgKwogICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVPbmUgKwogICAgICAgICAgJyI6IG51bWJlciBzY29yZSwnICsKICAgICAgICAgICciJyArCiAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVR3byArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlLCcgKwogICAgICAgICAgJyInICsKICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVGhyZWUgKwogICAgICAgICAgJyI6IG51bWJlciBzY29yZSwnICsKICAgICAgICAgICciJyArCiAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZvdXIgKwogICAgICAgICAgJyI6IG51bWJlciBzY29yZX0nOwogICAgICB9CgogICAgICAvL3RocmVlIHZhcmlhYmxlcwogICAgICBpZiAoCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUd28gIT0gIiIgJiYKICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVRocmVlICE9ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGb3VyID09ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGaXZlID09ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVTaXggPT0gIiIKICAgICAgKSB7CiAgICAgICAgY29tbWFPbmUgPSAiLCAiOwogICAgICAgIGNvbW1hVHdvID0gIiwgYW5kICI7CiAgICAgICAgY29tbWFUaHJlZSA9ICIiOwogICAgICAgIGNvbW1hRm91ciA9ICIiOwogICAgICAgIGNvbW1hRml2ZSA9ICIiOwogICAgICAgIGpzb25PbmUgPQogICAgICAgICAgJ3siJyArCiAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZU9uZSArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlLCcgKwogICAgICAgICAgJyInICsKICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVHdvICsKICAgICAgICAgICciOiBudW1iZXIgc2NvcmUsJyArCiAgICAgICAgICAnIicgKwogICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUaHJlZSArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlfSc7CiAgICAgIH0KCiAgICAgIC8vdHdvIHZhcmlhYmxlcwogICAgICBpZiAoCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUd28gIT0gIiIgJiYKICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVRocmVlID09ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGb3VyID09ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGaXZlID09ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVTaXggPT0gIiIKICAgICAgKSB7CiAgICAgICAgY29tbWFPbmUgPSAiIGFuZCAiOwogICAgICAgIGNvbW1hVHdvID0gIiI7CiAgICAgICAgY29tbWFUaHJlZSA9ICIiOwogICAgICAgIGNvbW1hRm91ciA9ICIiOwogICAgICAgIGNvbW1hRml2ZSA9ICIiOwogICAgICAgIGpzb25PbmUgPQogICAgICAgICAgJ3siJyArCiAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZU9uZSArCiAgICAgICAgICAnIjogbnVtYmVyIHNjb3JlLCcgKwogICAgICAgICAgJyInICsKICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVHdvICsKICAgICAgICAgICciOiBudW1iZXIgc2NvcmV9JzsKICAgICAgfQoKICAgICAgLy9vbmUgdmFyaWFibGUKICAgICAgaWYgKAogICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVHdvID09ICIiICYmCiAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUaHJlZSA9PSAiIiAmJgogICAgICAgIGluc3RhbmNlLnZhcmlhYmxlRm91ciA9PSAiIiAmJgogICAgICAgIGluc3RhbmNlLnZhcmlhYmxlRml2ZSA9PSAiIiAmJgogICAgICAgIGluc3RhbmNlLnZhcmlhYmxlU2l4ID09ICIiCiAgICAgICkgewogICAgICAgIGNvbW1hT25lID0gIiI7CiAgICAgICAgY29tbWFUd28gPSAiIjsKICAgICAgICBjb21tYVRocmVlID0gIiI7CiAgICAgICAgY29tbWFGb3VyID0gIiI7CiAgICAgICAgY29tbWFGaXZlID0gIiI7CiAgICAgICAganNvbk9uZSA9ICd7IicgKyBpbnN0YW5jZS52YXJpYWJsZU9uZSArICciOiBudW1iZXIgc2NvcmV9JzsKICAgICAgfQoKICAgICAgZm9yIChpMiA9IDA7IGkyIDwgbGVuMjsgaTIrKykgewogICAgICAgIGZpcmUoaTIpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBmaXJlKGkyKSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvL2NvbnN0IHVzYWJsZVRleHQgPSBKU09OLnN0cmluZ2lmeSh0aGlzLkpTT04xWzBdLnRleHQpOwogICAgICAgICAgLy8gY29uc3QgZG90ZW52ID0gcmVxdWlyZSgiZG90ZW52Iik7CiAgICAgICAgICAvLyBkb3RlbnYuY29uZmlnKCk7CgogICAgICAgICAgY29uc29sZS5sb2coIkFuYWx5emluZyBFbW90aW9uIik7CgogICAgICAgICAgY29uc3QgdXNhYmxlVVJMID0gd29ya2luZ0pTT04xW2kyXS5uYW1lOwogICAgICAgICAgY29uc3QgY291bnRlclRpY2tlcjIgPSBpMjsKICAgICAgICAgIGNvbnN0IHVzYWJsZVRleHQgPSB3b3JraW5nSlNPTjFbaTJdLnRleHQ7CiAgICAgICAgICBjb25zdCBwVHlwZSA9IHdvcmtpbmdKU09OMVtpMl0ucGFnZVR5cGU7CgogICAgICAgICAgY29uc29sZS5sb2coCiAgICAgICAgICAgIGluc3RhbmNlLnByb21wdElucHV0ICsKICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZU9uZSArCiAgICAgICAgICAgICAgY29tbWFPbmUgKwogICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVHdvICsKICAgICAgICAgICAgICBjb21tYVR3byArCiAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUaHJlZSArCiAgICAgICAgICAgICAgY29tbWFUaHJlZSArCiAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGb3VyICsKICAgICAgICAgICAgICBjb21tYUZvdXIgKwogICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlRml2ZSArCiAgICAgICAgICAgICAgY29tbWFGaXZlICsKICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVNpeCArCiAgICAgICAgICAgICAgIiwgcmV0dXJuaW5nIHRoZSByZXNwb25zZSBpbiBKU09OIG9ubHkuIEZvcm1hdCBhcyIgKwogICAgICAgICAgICAgIGpzb25PbmUgKwogICAgICAgICAgICAgICIuICIgKwogICAgICAgICAgICAgICJUZXh0OiAiICsKICAgICAgICAgICAgICB1c2FibGVUZXh0CiAgICAgICAgICApOwogICAgICAgIGlmICh1c2FibGVUZXh0ICE9IG51bGwpIHsKICAgICAgICAgIGNvbnN0IGNsaWVudCA9IGF4aW9zLmNyZWF0ZSh7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBpbnN0YW5jZS5hcGlLRVksCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9KTsKCiAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgICAgIG1vZGVsOiAiZ3B0LTMuNS10dXJiby0xNmsiLAogICAgICAgICAgICBtZXNzYWdlczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHJvbGU6ICJ1c2VyIiwKICAgICAgICAgICAgICAgIGNvbnRlbnQ6CiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnByb21wdElucHV0ICsKICAgICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVPbmUgKwogICAgICAgICAgICAgICAgICBjb21tYU9uZSArCiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVHdvICsKICAgICAgICAgICAgICAgICAgY29tbWFUd28gKwogICAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVRocmVlICsKICAgICAgICAgICAgICAgICAgY29tbWFUaHJlZSArCiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlRm91ciArCiAgICAgICAgICAgICAgICAgIGNvbW1hRm91ciArCiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlRml2ZSArCiAgICAgICAgICAgICAgICAgIGNvbW1hRml2ZSArCiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlU2l4ICsKICAgICAgICAgICAgICAgICAgIiwgcmV0dXJuaW5nIHRoZSByZXNwb25zZSBpbiBKU09OIG9ubHkuIEZvcm1hdCBhcyIgKwogICAgICAgICAgICAgICAgICBqc29uT25lICsKICAgICAgICAgICAgICAgICAgIi4gIiArCiAgICAgICAgICAgICAgICAgICJUZXh0OiAiICsKICAgICAgICAgICAgICAgICAgdXNhYmxlVGV4dCwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgICB0ZW1wZXJhdHVyZTogMCwKICAgICAgICAgICAgbWF4X3Rva2VuczogNTAwLAogICAgICAgICAgICB0b3BfcDogMCwKICAgICAgICAgICAgZnJlcXVlbmN5X3BlbmFsdHk6IDAsCiAgICAgICAgICAgIHByZXNlbmNlX3BlbmFsdHk6IDAsCiAgICAgICAgICB9OwoKICAgICAgICAgIGNsaWVudAogICAgICAgICAgICAucG9zdCgiaHR0cHM6Ly9hcGkub3BlbmFpLmNvbS92MS9jaGF0L2NvbXBsZXRpb25zIiwgcGFyYW1zKQogICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgaW5zdGFuY2UucGFjbWFuID0gdHJ1ZTsKICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibWFpblRpdGxlIikuc3R5bGUuY29sb3IgPSAiaG90cGluayI7CiAgICAgICAgICAgICAgaW5zdGFuY2UubXNnID0gIlJ1bm5pbmcgUXVhbnRpdGF0aXZlIEFuYWx5c2lzIjsKICAgICAgICAgICAgICBpbnN0YW5jZS5sb2FkZXIgPSBmYWxzZTsKICAgICAgICAgICAgICBjb25zdCBudW1iZXIgPSBpMiArIDE7CiAgICAgICAgICAgICAgaW5zdGFuY2UubXNnMiA9CiAgICAgICAgICAgICAgICBudW1iZXIgKyAiLyIgKyBpbnN0YW5jZS5vdmVyYWxsTnVtYmVyICsgIjogIiArIHVzYWJsZVVSTDsKICAgICAgICAgICAgICBjb25zdCByYXdSZXN1bHQgPSByZXN1bHQuZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDsKICAgICAgICAgICAgICBjb25zdCBqdXN0VGhlSlNPTiA9IHJhd1Jlc3VsdC5zdWJzdHJpbmcocmF3UmVzdWx0LmluZGV4T2YoInsiKSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coaTIgKyAiOiAiICsganVzdFRoZUpTT04pOwoKICAgICAgICAgICAgICBjb25zdCBlbW90aW9uUmVzdWx0cyA9IEpTT04ucGFyc2UoanVzdFRoZUpTT04pOwogICAgICAgICAgICAgIGluc3RhbmNlLm9uZSA9IGVtb3Rpb25SZXN1bHRzW2luc3RhbmNlLnZhcmlhYmxlT25lXTsKICAgICAgICAgICAgICBpbnN0YW5jZS50d28gPSBlbW90aW9uUmVzdWx0c1tpbnN0YW5jZS52YXJpYWJsZVR3b107CiAgICAgICAgICAgICAgaW5zdGFuY2UudGhyZWUgPSBlbW90aW9uUmVzdWx0c1tpbnN0YW5jZS52YXJpYWJsZVRocmVlXTsKICAgICAgICAgICAgICBpbnN0YW5jZS5mb3VyID0gZW1vdGlvblJlc3VsdHNbaW5zdGFuY2UudmFyaWFibGVGb3VyXTsKICAgICAgICAgICAgICBpbnN0YW5jZS5maXZlID0gZW1vdGlvblJlc3VsdHNbaW5zdGFuY2UudmFyaWFibGVGaXZlXTsKICAgICAgICAgICAgICBpbnN0YW5jZS5zaXggPSBlbW90aW9uUmVzdWx0c1tpbnN0YW5jZS52YXJpYWJsZVNpeF07CgogICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpczIiKTsKICAgICAgICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgIHAuaW5uZXJIVE1MID0KICAgICAgICAgICAgICAgICd7InBhZ2VUeXBlIjonICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBwVHlwZSArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcibmFtZSI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgdXNhYmxlVVJMICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJ0ZXh0IjonICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICB1c2FibGVUZXh0ICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlT25lICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2Uub25lICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUd28gKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS50d28gKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVRocmVlICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudGhyZWUgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZvdXIgKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS5mb3VyICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGaXZlICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UuZml2ZSArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlU2l4ICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2Uuc2l4ICsKICAgICAgICAgICAgICAgICJ9LCI7CiAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHApOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgIGluc3RhbmNlLm1zZyA9IGVycm9yOwogICAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChjb3VudGVyVGlja2VyMiA9PT0gdGlja2VyMiAtIDEpIHsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coIlF1YW50IGRlbGF5ZWQgZm9yIDMgc2Vjb25kcy4iKTsKICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRNb3JhbEZvdW5kYXRpb25zKCk7CiAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAodXNhYmxlVGV4dCA9PSBudWxsICkgewp2YXIgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWNpZmljQW5hbHlzaXMyIik7CiAgICAgICAgICAgICAgdmFyIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgICAgICAgICBwLmlubmVySFRNTCA9CiAgICAgICAgICAgICAgICAneyJwYWdlVHlwZSI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIm5vdF9jcmF3bGVkIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcibmFtZSI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgdXNhYmxlVVJMICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJ0ZXh0IjonICsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbnVsbCArCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVPbmUgKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICBudWxsICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUd28gKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICBudWxsICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVUaHJlZSArCiAgICAgICAgICAgICAgICAnIjonICsKICAgICAgICAgICAgICAgIG51bGwgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZvdXIgKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICBudWxsICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGaXZlICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgbnVsbCArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlU2l4ICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgbnVsbCArCiAgICAgICAgICAgICAgICAifSwiOwogICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTsKCiAgICAgICAgfQogICAgICAgIH0sIGluc3RhbmNlLmRlbGF5VGltZSAqIGkyKTsKICAgICAgfQogICAgfSwKCiAgICBnZXRNb3JhbEZvdW5kYXRpb25zOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB3b3JraW5nSlNPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMiIpLmlubmVyVGV4dDsKICAgICAgY29uc3QgbWlkZGxlSlNPTjIgPSAiWyIgKyB3b3JraW5nSlNPTi5zbGljZSgwLCAtMSkgKyAiXSI7CiAgICAgIGNvbnN0IHdvcmtpbmdKU09OMiA9IEpTT04ucGFyc2UobWlkZGxlSlNPTjIpOwogICAgICBsZXQgaTMsCiAgICAgICAgbGVuMyA9IHdvcmtpbmdKU09OMi5sZW5ndGg7CiAgICAgIGNvbnN0IHRpY2tlcjMgPSB3b3JraW5nSlNPTjIubGVuZ3RoOwogICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXM7CgogICAgICBmb3IgKGkzID0gMDsgaTMgPCBsZW4zOyBpMysrKSB7CiAgICAgICAgZmlyZShpMyk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGZpcmUoaTMpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJBbmFseXppbmcgbW9yYWwgZm91bmRhdGlvbnMiKTsKCiAgICAgICAgICBjb25zdCB1c2FibGVVUkwyID0gd29ya2luZ0pTT04yW2kzXS5uYW1lOwogICAgICAgICAgY29uc3QgY291bnRlclRpY2tlcjMgPSBpMzsKICAgICAgICAgIGNvbnN0IHVubyA9IHdvcmtpbmdKU09OMltpM11baW5zdGFuY2UudmFyaWFibGVPbmVdOwogICAgICAgICAgY29uc3QgZG9zID0gd29ya2luZ0pTT04yW2kzXVtpbnN0YW5jZS52YXJpYWJsZVR3b107CiAgICAgICAgICBjb25zdCB0cmVzID0gd29ya2luZ0pTT04yW2kzXVtpbnN0YW5jZS52YXJpYWJsZVRocmVlXTsKICAgICAgICAgIGNvbnN0IHF1YXRybyA9IHdvcmtpbmdKU09OMltpM11baW5zdGFuY2UudmFyaWFibGVGb3VyXTsKICAgICAgICAgIGNvbnN0IGNpbmNvID0gd29ya2luZ0pTT04yW2kzXVtpbnN0YW5jZS52YXJpYWJsZUZpdmVdOwogICAgICAgICAgY29uc3Qgc2VpcyA9IHdvcmtpbmdKU09OMltpM11baW5zdGFuY2UudmFyaWFibGVTaXhdOwogICAgICAgICAgY29uc3QgdXNhYmxlVGV4dDIgPSB3b3JraW5nSlNPTjJbaTNdLnRleHQ7CiAgICAgICAgICBjb25zdCBwVHlwZTIgPSB3b3JraW5nSlNPTjJbaTNdLnBhZ2VUeXBlOwogICAgICAgICAgCiAgICAgICAgICBpZiAodXNhYmxlVGV4dDIgIT0gbnVsbCkgewogICAgICAgICAgY29uc3QgY2xpZW50ID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGluc3RhbmNlLmFwaUtFWSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwoKICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgICAgbW9kZWw6ICJncHQtMy41LXR1cmJvLTE2ayIsCiAgICAgICAgICAgIG1lc3NhZ2VzOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcm9sZTogInVzZXIiLAogICAgICAgICAgICAgICAgY29udGVudDogaW5zdGFuY2UucHJvbXB0SW5wdXQyICsgdXNhYmxlVGV4dDIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAsCiAgICAgICAgICAgIG1heF90b2tlbnM6IDUwMCwKICAgICAgICAgICAgdG9wX3A6IDAsCiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiAwLAogICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiAwLAogICAgICAgICAgfTsKCiAgICAgICAgICBjbGllbnQKICAgICAgICAgICAgLnBvc3QoImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucyIsIHBhcmFtcykKICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgIGluc3RhbmNlLmxvYWRlciA9IHRydWU7CiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1haW5UaXRsZSIpLnN0eWxlLmNvbG9yID0gIm9yYW5nZSI7CiAgICAgICAgICAgICAgaW5zdGFuY2UubXNnID0gIlJ1bm5pbmcgUXVhbGl0YXRpdmUgQW5hbHlzaXMiOwogICAgICAgICAgICAgIGluc3RhbmNlLmxvYWRlcjIgPSBmYWxzZTsKICAgICAgICAgICAgICBjb25zdCBudW1iZXIyID0gaTMgKyAxOwogICAgICAgICAgICAgIGluc3RhbmNlLm1zZzIgPQogICAgICAgICAgICAgICAgbnVtYmVyMiArICIvIiArIGluc3RhbmNlLm92ZXJhbGxOdW1iZXIgKyAiOiAiICsgdXNhYmxlVVJMMjsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudCk7CiAgICAgICAgICAgICAgY29uc3QgbW9yYWxGb3VuZGF0aW9uUmVzdWx0cyA9CiAgICAgICAgICAgICAgICByZXN1bHQuZGF0YS5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudC5yZXBsYWNlQWxsKCciJywgIiIpOwogICAgICAgICAgICAgIGluc3RhbmNlLm1vcmFsRm91bmRhdGlvbkFuYWx5c2lzID0KICAgICAgICAgICAgICAgIG1vcmFsRm91bmRhdGlvblJlc3VsdHMucmVwbGFjZUFsbCgiJyIsICIiKTsKCiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMyIpOwogICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgJ3sicGFnZVR5cGUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIHBUeXBlMiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcibmFtZSI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgdXNhYmxlVVJMMiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcidGV4dCI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgdXNhYmxlVGV4dDIgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnInF1YWxSZXNwb25zZSI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UubW9yYWxGb3VuZGF0aW9uQW5hbHlzaXMgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVPbmUgKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICB1bm8gKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVR3byArCiAgICAgICAgICAgICAgICAnIjonICsKICAgICAgICAgICAgICAgIGRvcyArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVGhyZWUgKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICB0cmVzICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGb3VyICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgcXVhdHJvICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVGaXZlICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgY2luY28gKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVNpeCArCiAgICAgICAgICAgICAgICAnIjonICsKICAgICAgICAgICAgICAgIHNlaXMgKwogICAgICAgICAgICAgICAgIn0sIjsKICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQocCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgdGhpcy5tc2cgPSBlcnJvcjsKICAgICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoY291bnRlclRpY2tlcjMgPT09IHRpY2tlcjMgLSAxKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJRdWFsIGRlbGF5ZWQgZm9yIDUgc2Vjb25kcy4iKTsKICAgICAgICAgICAgICBpbnN0YW5jZS5yZXR1cm5KU09OKCk7CiAgICAgICAgICAgIH0sIDUwMDApOwogICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHVzYWJsZVRleHQyID09IG51bGwpIHsKdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMyIpOwogICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgJ3sicGFnZVR5cGUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICJub3RfY3Jhd2xlZCIgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIm5hbWUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIHVzYWJsZVVSTDIgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnInRleHQiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIG51bGwgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAgJyJxdWFsUmVzcG9uc2UiOicgKwogICAgICAgICAgICAgICAgbnVsbCArCgogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZU9uZSArCiAgICAgICAgICAgICAgICAnIjonICsKICAgICAgICAgICAgICAgIG51bGwgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVR3byArCiAgICAgICAgICAgICAgICAnIjonICsKICAgICAgICAgICAgICAgIG51bGwgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVRocmVlICsKICAgICAgICAgICAgICAgICciOicgKwogICAgICAgICAgICAgICAgbnVsbCArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlRm91ciArCiAgICAgICAgICAgICAgICAnIjonICsKICAgICAgICAgICAgICAgIG51bGwgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZpdmUgKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICBudWxsICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVTaXggKwogICAgICAgICAgICAgICAgJyI6JyArCiAgICAgICAgICAgICAgICBudWxsICsKICAgICAgICAgICAgICAgICJ9LCI7CiAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHApOwoKICAgICAgICAgIH0KICAgICAgICB9LCBpbnN0YW5jZS5kZWxheVRpbWUgKiBpMyk7IC8vdGltZW91dAogICAgICB9IC8vZmlyZQogICAgfSwKCiAgICByZXR1cm5KU09OOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB3b3JraW5nSlNPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMyIpLmlubmVyVGV4dDsKICAgICAgdmFyIG1pZGRsZUpTT04gPSAiWyIgKyB3b3JraW5nSlNPTi5zbGljZSgwLCAtMSkgKyAiXSI7CiAgICAgIHRoaXMuSlNPTjMgPSBtaWRkbGVKU09OOwogICAgICBjb25zb2xlLmxvZygiSlNPTjI6ICIgKyB0aGlzLkpTT04zKTsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzNCIpOwogICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwLmlubmVySFRNTCA9IHRoaXMuSlNPTjM7CiAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTsKCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciAxIHNlY29uZC4iKTsKICAgICAgICB0aGlzLnJlbmRlclZpc3VhbHMoKTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAoKICAgIHJlbmRlclZpc3VhbHM6IGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm1haW5UaXRsZSIpLnN0eWxlLmNvbG9yID0gIiM3MWM2OGIiOwogICAgICB0aGlzLmxvYWRlcjIgPSB0cnVlOwogICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidmlzdWFscyIpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICB0aGlzLm1zZyA9ICIiOwogICAgICB0aGlzLm1zZzIgPSAiIjsKCiAgICAgIHZhciB3b3JraW5nSlNPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzNCIpLmlubmVyVGV4dDsKICAgICAgdGhpcy5KU09ONCA9IEpTT04ucGFyc2Uod29ya2luZ0pTT04pOwoKICAgICAgLy9jb25zdCB1c2FibGVUZXh0ID0gSlNPTi5zdHJpbmdpZnkodGhpcy5KU09OMVswXS50ZXh0KTsKCiAgICAgIGlmICh0aGlzLkpTT040ICE9IG51bGwpIHsKICAgICAgICBjb25zb2xlLmxvZygidGVzdCIpOwogICAgICAgIHZhciBpLAogICAgICAgICAgbGVuID0gdGhpcy5KU09ONC5sZW5ndGg7CiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICAgICAgICBjb25zdCB1c2FibGVVUkwgPSB0aGlzLkpTT040W2ldLm5hbWU7CiAgICAgICAgICBjb25zdCB1bm8gPSB0aGlzLkpTT040W2ldW3RoaXMudmFyaWFibGVPbmVdOwogICAgICAgICAgY29uc3QgZG9zID0gdGhpcy5KU09ONFtpXVt0aGlzLnZhcmlhYmxlVHdvXTsKICAgICAgICAgIGNvbnN0IHRyZXMgPSB0aGlzLkpTT040W2ldW3RoaXMudmFyaWFibGVUaHJlZV07CiAgICAgICAgICBjb25zdCBxdWF0cm8gPSB0aGlzLkpTT040W2ldW3RoaXMudmFyaWFibGVGb3VyXTsKICAgICAgICAgIGNvbnN0IGNpbmNvID0gdGhpcy5KU09ONFtpXVt0aGlzLnZhcmlhYmxlRml2ZV07CiAgICAgICAgICBjb25zdCBzZWlzID0gdGhpcy5KU09ONFtpXVt0aGlzLnZhcmlhYmxlU2l4XTsKICAgICAgICAgIGNvbnN0IG1vcmFsQW5hbHlzaXMgPSB0aGlzLkpTT040W2ldLnF1YWxSZXNwb25zZTsKICAgICAgICAgIGNvbnN0IHBUeXBlMyA9IHRoaXMuSlNPTjRbaV0ucGFnZVR5cGU7CiAgICAgICAgICBjb25zdCBpdGVtTnVtYmVyID0gaSArIDE7CgogICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aXN1YWxzIik7CiAgICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgcC5pbm5lckhUTUwgPQogICAgICAgICAgICAiPGgyIHN0eWxlPSdjb2xvcjojNjZGRjc5O2ZvbnQtc2l6ZTo0NnB4Oyc+IiArCiAgICAgICAgICAgIGl0ZW1OdW1iZXIgKwogICAgICAgICAgICAiLyIgKwogICAgICAgICAgICB0aGlzLm92ZXJhbGxOdW1iZXIgKwogICAgICAgICAgICAiPC9oMj4iICsKICAgICAgICAgICAgIjxoMiBzdHlsZT0nY29sb3I6aG90cGluaztmb250LXNpemU6NDZweDsnPiIgKwogICAgICAgICAgICB1c2FibGVVUkwgKwogICAgICAgICAgICAiPC9oMj4iICsKICAgICAgICAgICAgIjxoMyBzdHlsZT0nY29sb3I6aG90cGluazsnPlF1YWxpdGF0aXZlIEFuYWx5c2lzIDwvaDM+PHAgc3R5bGU9J2NvbG9yOndoaXRlOyc+IiArCiAgICAgICAgICAgIG1vcmFsQW5hbHlzaXMgKwogICAgICAgICAgICAiPC9wPjxoMyBzdHlsZT0nY29sb3I6b3JhbmdlOyc+UXVhbnRpdGF0aXZlIEFuYWx5c2lzIDwvaDM+PHVsIHN0eWxlPSdjb2xvcjpvcmFuZ2U7bGlzdC1zdHlsZTpub25lO21hcmdpbjowOyc+IiArCiAgICAgICAgICAgICI8bGkgc3R5bGU9J2NvbG9yOiNmZjAwMjI7Jz4iICsKICAgICAgICAgICAgdGhpcy52YXJpYWJsZU9uZSArCiAgICAgICAgICAgICI6ICIgKwogICAgICAgICAgICB1bm8gKwogICAgICAgICAgICAiPC9saT4iICsKICAgICAgICAgICAgIjxsaSBzdHlsZT0nY29sb3I6I2ZmYmM0MjsnPiIgKwogICAgICAgICAgICB0aGlzLnZhcmlhYmxlVHdvICsKICAgICAgICAgICAgIjogIiArCiAgICAgICAgICAgIGRvcyArCiAgICAgICAgICAgICI8L2xpPiIgKwogICAgICAgICAgICAiPGxpIHN0eWxlPSdjb2xvcjojMDQ5NmZmOyc+IiArCiAgICAgICAgICAgIHRoaXMudmFyaWFibGVUaHJlZSArCiAgICAgICAgICAgICI6ICIgKwogICAgICAgICAgICB0cmVzICsKICAgICAgICAgICAgIjwvbGk+IiArCiAgICAgICAgICAgICI8bGkgc3R5bGU9J2NvbG9yOiM2OTRkNzU7Jz4iICsKICAgICAgICAgICAgdGhpcy52YXJpYWJsZUZvdXIgKwogICAgICAgICAgICAiOiAiICsKICAgICAgICAgICAgcXVhdHJvICsKICAgICAgICAgICAgIjwvbGk+IiArCiAgICAgICAgICAgICI8bGkgc3R5bGU9J2NvbG9yOiMxYjUyOTk7Jz4iICsKICAgICAgICAgICAgdGhpcy52YXJpYWJsZUZpdmUgKwogICAgICAgICAgICAiOiAiICsKICAgICAgICAgICAgY2luY28gKwogICAgICAgICAgICAiPC9saT4iICsKICAgICAgICAgICAgIjxsaSBzdHlsZT0nY29sb3I6bGlnaHRncmF5Oyc+IiArCiAgICAgICAgICAgIHRoaXMudmFyaWFibGVTaXggKwogICAgICAgICAgICAiOiAiICsKICAgICAgICAgICAgc2VpcyArCiAgICAgICAgICAgICI8L2xpPiIgKwogICAgICAgICAgICAiPGgzIHN0eWxlPSdjb2xvcjojNzFjNjhiOyc+V2hvbGUgKGNyYXdsZWQgdGV4dCBpcyA8NDk5OTkgQ2hhcmFjdGVycyksIFBhcnRpYWwgKGNyYXdsZWQgdGV4dCBpcyA+NDk5OTkgY2hhcmFjdGVycywgc28gb25seSB0aGUgZmlyc3QgNDk5OTkgY2hhcmFjdGVycyBhcmUgaW5jbHVkZWQgaW4gYW5hbHlzaXMpLCBPciBOb3QgQ3Jhd2xlZCAobm9uLWh0bWwvdGV4dCBjb250ZW50LCBvciBmYWlsZWQgcGFnZSBmZXRjaCk8L2gzPjx1bCBzdHlsZT0nY29sb3I6d2hpdGU7bGlzdC1zdHlsZTpub25lO21hcmdpbjowOyc+IiArCiAgICAgICAgICAgICI8bGk+IiArCiAgICAgICAgICAgIHBUeXBlMyArCiAgICAgICAgICAgICI8L2xpPiIgKwogICAgICAgICAgICAiPC91bD4iICsKICAgICAgICAgICAgIjxocj4iOwogICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHApOwoKICAgICAgICAgIGlmIChpID09PSBsZW4gLSAxKSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciA0IHNlY29uZHMuIik7CiAgICAgICAgICAgICAgdGhpcy5tc2cgPSAiQW5hbHlzaXMgQ29tcGxldGUiOwogICAgICAgICAgICAgIHRoaXMubXNnMiA9ICIiOwogICAgICAgICAgICAgIHZhciBkaXY3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJhd0RhdGEyIik7CiAgICAgICAgICAgICAgdmFyIHA3ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKTsKICAgICAgICAgICAgICBwNy5zZXRBdHRyaWJ1dGUoImlkIiwgIm92ZXJhbEV4cGxhbmF0aW9uMyIpOwogICAgICAgICAgICAgIHA3LmlubmVySFRNTCA9ICJSYXcgRGF0YSI7CiAgICAgICAgICAgICAgZGl2Ny5hcHBlbmRDaGlsZChwNyk7CiAgICAgICAgICAgICAgdGhpcy5yZW5kZXJPdmVyYWxsRW1vdGlvbigpOwogICAgICAgICAgICAgIGlmICh0aGlzLnF1YWxRdWFudFN1bW1hcnkgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5nZXRPdmVyYWxsTW9yYWxGb3VuZGF0aW9uU2NvcmVzKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmICh0aGlzLnF1YWxRdWFudFN1bW1hcnkgPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgIHRoaXMuZ2V0T3ZlcmFsbFF1YWxTdW1tYXJ5KCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRPdmVyYWxsUXVhbFN1bW1hcnk6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5zaG93UHJvY2VzczIgPSBmYWxzZTsKICAgICAgdGhpcy5tc2c1ID0gdGhpcy51cmxUb1NjcmFwZTsKICAgICAgdmFyIHdvcmtpbmdKU09OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWNpZmljQW5hbHlzaXM0IikuaW5uZXJUZXh0OwogICAgICBjb25zdCB0ZXN0ID0gSlNPTi5wYXJzZSh3b3JraW5nSlNPTik7CiAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpczsKICAgICAgY29uc3QgcGFnZVR5cGUzID0gIm92ZXJhbGxRdWFsIjsKICAgICAgbGV0IG92ZXJhbGxNb3JhbEFuYWx5c2lzID0gIiI7CgogICAgICBjb25zdCBlID0gdGVzdC5sZW5ndGg7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZTsgaSsrKSB7CiAgICAgICAgb3ZlcmFsbE1vcmFsQW5hbHlzaXMgPSBvdmVyYWxsTW9yYWxBbmFseXNpcyArPSB0ZXN0W2ldLnF1YWxSZXNwb25zZTsgLy8uc3Vic3RyaW5nKDAsIDcwKTsKICAgICAgICBpZiAoaSA9PT0gZSAtIDEpIHsKICAgICAgICAgIGluc3RhbmNlLm92ZXJhbGxTdW1tYXJ5T3V0cHV0ID0gb3ZlcmFsbE1vcmFsQW5hbHlzaXM7CiAgICAgICAgICBpZiAoIWluc3RhbmNlLm92ZXJhbGxTdW1tYXJ5T3V0cHV0LmVuZHNXaXRoKCIuIikpIHsKICAgICAgICAgICAgaW5zdGFuY2Uub3ZlcmFsbFN1bW1hcnlPdXRwdXQgPSBpbnN0YW5jZS5vdmVyYWxsU3VtbWFyeU91dHB1dCArICIuIjsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaW5zdGFuY2Uub3ZlcmFsbFN1bW1hcnlPdXRwdXQuZW5kc1dpdGgoIi4iKSkgewogICAgICAgICAgICBpbnN0YW5jZS5vdmVyYWxsU3VtbWFyeU91dHB1dCA9IGluc3RhbmNlLm92ZXJhbGxTdW1tYXJ5T3V0cHV0ICsgIiI7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc3QgY2xpZW50ID0gYXhpb3MuY3JlYXRlKHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIiArIGluc3RhbmNlLmFwaUtFWSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwoKICAgICAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICAgICAgbW9kZWw6ICJncHQtMy41LXR1cmJvLTE2ayIsCiAgICAgICAgICAgIG1lc3NhZ2VzOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgcm9sZTogInVzZXIiLAogICAgICAgICAgICAgICAgY29udGVudDoKICAgICAgICAgICAgICAgICAgIlN5bnRoZXNpemUgdGhlIGZvbGxvd2luZyBzdGF0ZW1lbnRzIGludG8gYSBicmllZiBhbmFseXRpYyBzdW1tYXJ5IGFib3V0IHRoZSBvdmVyYWxsIHRleHQgdGhhdCB0aG9zZSBzdGF0ZW1lbnRzIGFyZSByZWZlcnJpbmcgdG8uIFN0YXRlbWVudHM6IiArCiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLm92ZXJhbGxTdW1tYXJ5T3V0cHV0LAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHRlbXBlcmF0dXJlOiAwLAogICAgICAgICAgICBtYXhfdG9rZW5zOiA1MDAsCiAgICAgICAgICAgIHRvcF9wOiAwLAogICAgICAgICAgICBmcmVxdWVuY3lfcGVuYWx0eTogMCwKICAgICAgICAgICAgcHJlc2VuY2VfcGVuYWx0eTogMCwKICAgICAgICAgIH07CgogICAgICAgICAgY2xpZW50CiAgICAgICAgICAgIC5wb3N0KCJodHRwczovL2FwaS5vcGVuYWkuY29tL3YxL2NoYXQvY29tcGxldGlvbnMiLCBwYXJhbXMpCiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICAgICBpbnN0YW5jZS5tc2c1ID0gaW5zdGFuY2UudXJsVG9TY3JhcGU7CiAgICAgICAgICAgICAgY29uc3QgcmF3UmVzdWx0QSA9IHJlc3VsdC5kYXRhLmNob2ljZXNbMF0ubWVzc2FnZS5jb250ZW50OwogICAgICAgICAgICAgIGluc3RhbmNlLm92ZXJhbGxPdXRwdXRFeHBsYW5hdGlvbiA9IHJhd1Jlc3VsdEE7CiAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzMyIpOwogICAgICAgICAgICAgIHZhciBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgICAgICAgICAgcC5pbm5lckhUTUwgPQogICAgICAgICAgICAgICAgJ3sicGFnZVR5cGUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIHBhZ2VUeXBlMyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcibmFtZSI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgaW5zdGFuY2UudXJsVG9TY3JhcGUgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnInF1YWxSZXNwb25zZSI6JyArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgcmF3UmVzdWx0QSArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIn0sIjsKICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQocCk7CgogICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkRlbGF5ZWQgZm9yIDEgc2Vjb25kLiIpOwogICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJPdmVyYWxsRW1vdGlvbigpOwogICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgIHRoaXMubXNnID0gZXJyb3I7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBnZXRPdmVyYWxsTW9yYWxGb3VuZGF0aW9uU2NvcmVzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuc2hvd1Byb2Nlc3MyID0gZmFsc2U7CiAgICAgIHRoaXMubXNnNSA9IHRoaXMudXJsVG9TY3JhcGU7CiAgICAgIHZhciB3b3JraW5nSlNPTiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzNCIpLmlubmVyVGV4dDsKICAgICAgY29uc3QgdGVzdCA9IEpTT04ucGFyc2Uod29ya2luZ0pTT04pOwogICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXM7CiAgICAgIGNvbnN0IHBhZ2VUeXBlMyA9ICJvdmVyYWxsQ291bnQiOwogICAgICBsZXQgb3ZlcmFsbE1vcmFsQW5hbHlzaXMgPSAiIjsKCiAgICAgIGNvbnN0IGUgPSB0ZXN0Lmxlbmd0aDsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlOyBpKyspIHsKICAgICAgICBvdmVyYWxsTW9yYWxBbmFseXNpcyA9IG92ZXJhbGxNb3JhbEFuYWx5c2lzICs9IHRlc3RbaV0ucXVhbFJlc3BvbnNlOyAvLy5zdWJzdHJpbmcoMCwgNzApOwogICAgICAgIGlmIChpID09PSBlIC0gMSkgewogICAgICAgICAgaW5zdGFuY2Uub3ZlcmFsbFN1bW1hcnlPdXRwdXQgPSBvdmVyYWxsTW9yYWxBbmFseXNpczsKICAgICAgICAgIGlmICghaW5zdGFuY2Uub3ZlcmFsbFN1bW1hcnlPdXRwdXQuZW5kc1dpdGgoIi4iKSkgewogICAgICAgICAgICBpbnN0YW5jZS5vdmVyYWxsU3VtbWFyeU91dHB1dCA9IGluc3RhbmNlLm92ZXJhbGxTdW1tYXJ5T3V0cHV0ICsgIi4iOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChpbnN0YW5jZS5vdmVyYWxsU3VtbWFyeU91dHB1dC5lbmRzV2l0aCgiLiIpKSB7CiAgICAgICAgICAgIGluc3RhbmNlLm92ZXJhbGxTdW1tYXJ5T3V0cHV0ID0gaW5zdGFuY2Uub3ZlcmFsbFN1bW1hcnlPdXRwdXQgKyAiIjsKICAgICAgICAgIH0KCiAgICAgICAgICBjb25zdCBjbGllbnQgPSBheGlvcy5jcmVhdGUoewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiICsgaW5zdGFuY2UuYXBpS0VZLAogICAgICAgICAgICB9LAogICAgICAgICAgfSk7CgogICAgICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgICAgICBtb2RlbDogImdwdC0zLjUtdHVyYm8tMTZrIiwKICAgICAgICAgICAgbWVzc2FnZXM6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICByb2xlOiAidXNlciIsCiAgICAgICAgICAgICAgICBjb250ZW50OgogICAgICAgICAgICAgICAgICAnR2l2ZSBtZSBudW1lcmljYWwgc2NvcmVzIHRoYXQgaW5kaWNhdGUgcHJvcG9ydGlvbnMgb2YgY2FyZSwgZmFpcm5lc3MsIGxveWFsdHksIGF1dGhvcml0eSwgYW5kIHB1cml0eSByZXByZXNlbnRlZCBpbiB0aGUgZm9sbG93aW5nIHRleHQgZm9ybWF0dGVkIGluIEpTT04gYXMgeyJjYXJlIjogbnVtYmVyIHNjb3JlLCJmYWlybmVzcyI6IG51bWJlciBzY29yZSwibG95YWx0eSI6IG51bWJlciBzY29yZSwiYXV0aG9yaXR5IjogbnVtYmVyIHNjb3JlLCJwdXJpdHkiOiBudW1iZXIgc2NvcmV9LiBFeHBsYWluIHRob3NlIHNjb3Jlcy4gVGV4dDonICsKICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uub3ZlcmFsbFN1bW1hcnlPdXRwdXQsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgdGVtcGVyYXR1cmU6IDAsCiAgICAgICAgICAgIG1heF90b2tlbnM6IDUwMCwKICAgICAgICAgICAgdG9wX3A6IDAsCiAgICAgICAgICAgIGZyZXF1ZW5jeV9wZW5hbHR5OiAwLAogICAgICAgICAgICBwcmVzZW5jZV9wZW5hbHR5OiAwLAogICAgICAgICAgfTsKCiAgICAgICAgICBjbGllbnQKICAgICAgICAgICAgLnBvc3QoImh0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvY2hhdC9jb21wbGV0aW9ucyIsIHBhcmFtcykKICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgIGluc3RhbmNlLm1zZzUgPSBpbnN0YW5jZS51cmxUb1NjcmFwZTsKICAgICAgICAgICAgICBjb25zdCByYXdSZXN1bHRBID0gcmVzdWx0LmRhdGEuY2hvaWNlc1swXS5tZXNzYWdlLmNvbnRlbnQ7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmF3UmVzdWx0QSk7CiAgICAgICAgICAgICAgY29uc3QganVzdFRoZVRleHRBID0gcmF3UmVzdWx0QS5zdWJzdHJpbmcoCiAgICAgICAgICAgICAgICByYXdSZXN1bHRBLmluZGV4T2YoIn0iKSArIDEKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIGNvbnN0IGp1c3RUaGVKU09OQSA9IHJhd1Jlc3VsdEEuc3Vic3RyaW5nKAogICAgICAgICAgICAgICAgMCwKICAgICAgICAgICAgICAgIHJhd1Jlc3VsdEEuaW5kZXhPZigifSIpICsgMQogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coanVzdFRoZVRleHRBICsgIiA6ICIgKyBqdXN0VGhlSlNPTkEpOwogICAgICAgICAgICAgIGNvbnN0IG1vcmFsUmVzdWx0c0EgPSBKU09OLnBhcnNlKGp1c3RUaGVKU09OQSk7CiAgICAgICAgICAgICAgY29uc3Qgb3ZlcmFsbENhcmUgPSBtb3JhbFJlc3VsdHNBLmNhcmU7CiAgICAgICAgICAgICAgY29uc3Qgb3ZlcmFsbEZhaXJuZXNzID0gbW9yYWxSZXN1bHRzQS5mYWlybmVzczsKICAgICAgICAgICAgICBjb25zdCBvdmVyYWxsTG95YWx0eSA9IG1vcmFsUmVzdWx0c0EubG95YWx0eTsKICAgICAgICAgICAgICBjb25zdCBvdmVyYWxsQXV0aG9yaXR5ID0gbW9yYWxSZXN1bHRzQS5hdXRob3JpdHk7CiAgICAgICAgICAgICAgY29uc3Qgb3ZlcmFsbFB1cml0eSA9IG1vcmFsUmVzdWx0c0EucHVyaXR5OwogICAgICAgICAgICAgIGluc3RhbmNlLm92ZXJhbGxPdXRwdXRFeHBsYW5hdGlvbiA9IGp1c3RUaGVUZXh0QTsKICAgICAgICAgICAgICAvL2NvbnN0IG1vcmFsRm91bmRhdGlvblJlc3VsdHMzID0ganVzdFRoZVRleHRBOwogICAgICAgICAgICAgIC8vIGp1c3RUaGVUZXh0QS50ZXh0LnJlcGxhY2VBbGwoJyInLCAiIik7CiAgICAgICAgICAgICAgLy8gCQkJCQlpbnN0YW5jZS5tb3JhbEZvdW5kYXRpb25BbmFseXNpcyA9IG1vcmFsRm91bmRhdGlvblJlc3VsdHMzLnJlcGxhY2VBbGwoIiciLCAiIik7CiAgICAgICAgICAgICAgLy8gCQkJCQlpbnN0YW5jZS5vdmVyYWxsU3VtbWFyeU91dHB1dCA9IGluc3RhbmNlLm1vcmFsRm91bmRhdGlvbkFuYWx5c2lzCgogICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpczMiKTsKICAgICAgICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgICAgICAgIHAuaW5uZXJIVE1MID0KICAgICAgICAgICAgICAgICd7InBhZ2VUeXBlIjonICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICBwYWdlVHlwZTMgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIm5hbWUiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIGluc3RhbmNlLnVybFRvU2NyYXBlICsKICAgICAgICAgICAgICAgICciJyArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJvdmVyYWxsQ2FyZSI6JyArCiAgICAgICAgICAgICAgICBvdmVyYWxsQ2FyZSArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJvdmVyYWxsRmFpcm5lc3MiOicgKwogICAgICAgICAgICAgICAgb3ZlcmFsbEZhaXJuZXNzICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIm92ZXJhbGxMb3lhbHR5IjonICsKICAgICAgICAgICAgICAgIG92ZXJhbGxMb3lhbHR5ICsKICAgICAgICAgICAgICAgICIsIiArCiAgICAgICAgICAgICAgICAnIm92ZXJhbGxBdXRob3JpdHkiOicgKwogICAgICAgICAgICAgICAgb3ZlcmFsbEF1dGhvcml0eSArCiAgICAgICAgICAgICAgICAiLCIgKwogICAgICAgICAgICAgICAgJyJvdmVyYWxsUHVyaXR5IjonICsKICAgICAgICAgICAgICAgIG92ZXJhbGxQdXJpdHkgKwogICAgICAgICAgICAgICAgIiwiICsKICAgICAgICAgICAgICAgICcicXVhbE92ZXJhbGwiOicgKwogICAgICAgICAgICAgICAgJyInICsKICAgICAgICAgICAgICAgIGp1c3RUaGVUZXh0QSArCiAgICAgICAgICAgICAgICAnIicgKwogICAgICAgICAgICAgICAgIn0sIjsKICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQocCk7CgogICAgICAgICAgICAgIHZhciBkYXRhID0gWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICB4OiBbIkNhcmUiLCAiRmFpcm5lc3MiLCAiTG95YWx0eSIsICJBdXRob3JpdHkiLCAiUHVyaXR5Il0sCiAgICAgICAgICAgICAgICAgIHk6IFsKICAgICAgICAgICAgICAgICAgICBvdmVyYWxsQ2FyZSwKICAgICAgICAgICAgICAgICAgICBvdmVyYWxsRmFpcm5lc3MsCiAgICAgICAgICAgICAgICAgICAgb3ZlcmFsbExveWFsdHksCiAgICAgICAgICAgICAgICAgICAgb3ZlcmFsbEF1dGhvcml0eSwKICAgICAgICAgICAgICAgICAgICBvdmVyYWxsUHVyaXR5LAogICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICB0eXBlOiAiYmFyIiwKICAgICAgICAgICAgICAgICAgbWFya2VyOiB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6IFsKICAgICAgICAgICAgICAgICAgICAgICIjYmY0ZTMwIiwKICAgICAgICAgICAgICAgICAgICAgICIjYzZjY2IyIiwKICAgICAgICAgICAgICAgICAgICAgICIjOTNmZjk2IiwKICAgICAgICAgICAgICAgICAgICAgICIjZTVlYWZhIiwKICAgICAgICAgICAgICAgICAgICAgICIjNzhmZWNmIiwKICAgICAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBdOwoKICAgICAgICAgICAgICB2YXIgbGF5b3V0ID0gewogICAgICAgICAgICAgICAgaGVpZ2h0OiA0NTAsCiAgICAgICAgICAgICAgICB3aWR0aDogNDUwLAogICAgICAgICAgICAgICAgc2hvd2xlZ2VuZDogZmFsc2UsCiAgICAgICAgICAgICAgICBwYXBlcl9iZ2NvbG9yOiAiIzJiMmQ0MiIsCiAgICAgICAgICAgICAgICBwbG90X2JnY29sb3I6ICIjMmIyZDQyIiwKICAgICAgICAgICAgICAgIHRpdGxlOiAiTW9yYWwgRm91bmRhdGlvbnMiLAogICAgICAgICAgICAgICAgZm9udDogewogICAgICAgICAgICAgICAgICBmYW1pbHk6ICJBcmlhbCwgbW9ub3NwYWNlIiwKICAgICAgICAgICAgICAgICAgc2l6ZTogMjUsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAid2hpdGUiLAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIG1hcmdpbjogewogICAgICAgICAgICAgICAgICBsOiA1MCwKICAgICAgICAgICAgICAgICAgcjogNTAsCiAgICAgICAgICAgICAgICAgIGI6IDEwMCwKICAgICAgICAgICAgICAgICAgdDogMTAwLAogICAgICAgICAgICAgICAgICBwYWQ6IDQsCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHsgcmVzcG9uc2l2ZTogdHJ1ZSB9OwogICAgICAgICAgICAgIFBsb3RseS5uZXdQbG90KCJvdmVyYWxsTW9yYWxGb3VuZGF0aW9ucyIsIGRhdGEsIGxheW91dCwgY29uZmlnKTsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEZWxheWVkIGZvciAxIHNlY29uZC4iKTsKICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyT3ZlcmFsbEVtb3Rpb24oKTsKICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICB0aGlzLm1zZyA9IGVycm9yOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgcmVuZGVyT3ZlcmFsbEVtb3Rpb246IGZ1bmN0aW9uICgpIHsKICAgICAgLy92YXIgd29ya2luZ0pTT04gPQogICAgICAvL3RoaXMuSlNPTjQgPSBKU09OLnBhcnNlKHdvcmtpbmdKU09OKTsKICAgICAgdmFyIHdvcmtpbmdKU09OQiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzNCIpLmlubmVyVGV4dDsKICAgICAgY29uc3QgdGVzdCA9IEpTT04ucGFyc2Uod29ya2luZ0pTT05CKTsKICAgICAgbGV0IG92ZXJhbGxPbmUgPSAwOwogICAgICBsZXQgb3ZlcmFsbFR3byA9IDA7CiAgICAgIGxldCBvdmVyYWxsVGhyZWUgPSAwOwogICAgICBsZXQgb3ZlcmFsbEZvdXIgPSAwOwogICAgICBsZXQgb3ZlcmFsbEZpdmUgPSAwOwogICAgICBsZXQgb3ZlcmFsbFNpeCA9IDA7CiAgICAgIGNvbnNvbGUubG9nKHRlc3QubGVuZ3RoKTsKICAgICAgY29uc3QgaW5zdGFuY2UgPSB0aGlzOwogICAgICBpbnN0YW5jZS5vdmVyYWxsUXVhbnQgPSB0cnVlOwogICAgICBjb25zdCBlID0gdGVzdC5sZW5ndGg7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZTsgaSsrKSB7CiAgICAgICAgb3ZlcmFsbE9uZSA9IG92ZXJhbGxPbmUgKyB0ZXN0W2ldW2luc3RhbmNlLnZhcmlhYmxlT25lXTsKICAgICAgICBvdmVyYWxsVHdvID0gb3ZlcmFsbFR3byArIHRlc3RbaV1baW5zdGFuY2UudmFyaWFibGVUd29dOwogICAgICAgIG92ZXJhbGxUaHJlZSA9IG92ZXJhbGxUaHJlZSArIHRlc3RbaV1baW5zdGFuY2UudmFyaWFibGVUaHJlZV07CiAgICAgICAgb3ZlcmFsbEZvdXIgPSBvdmVyYWxsRm91ciArIHRlc3RbaV1baW5zdGFuY2UudmFyaWFibGVGb3VyXTsKICAgICAgICBvdmVyYWxsRml2ZSA9IG92ZXJhbGxGaXZlICsgdGVzdFtpXVtpbnN0YW5jZS52YXJpYWJsZUZpdmVdOwogICAgICAgIG92ZXJhbGxTaXggPSBvdmVyYWxsU2l4ICsgdGVzdFtpXVtpbnN0YW5jZS52YXJpYWJsZVNpeF07CiAgICAgICAgaWYgKGkgPT09IGUgLSAxKSB7CiAgICAgICAgICBvdmVyYWxsT25lID0gTWF0aC5yb3VuZChvdmVyYWxsT25lIC8gZSkgKiAxMDsKICAgICAgICAgIG92ZXJhbGxUd28gPSBNYXRoLnJvdW5kKG92ZXJhbGxUd28gLyBlKSAqIDEwOwogICAgICAgICAgb3ZlcmFsbFRocmVlID0gTWF0aC5yb3VuZChvdmVyYWxsVGhyZWUgLyBlKSAqIDEwOwogICAgICAgICAgb3ZlcmFsbEZvdXIgPSBNYXRoLnJvdW5kKG92ZXJhbGxGb3VyIC8gZSkgKiAxMDsKICAgICAgICAgIG92ZXJhbGxGaXZlID0gTWF0aC5yb3VuZChvdmVyYWxsRml2ZSAvIGUpICogMTA7CiAgICAgICAgICBvdmVyYWxsU2l4ID0gTWF0aC5yb3VuZChvdmVyYWxsU2l4IC8gZSkgKiAxMDsKCiAgICAgICAgICB2YXIgZGF0YSA9IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIHR5cGU6ICJwaWUiLAogICAgICAgICAgICAgIHZhbHVlczogWwogICAgICAgICAgICAgICAgb3ZlcmFsbE9uZSwKICAgICAgICAgICAgICAgIG92ZXJhbGxUd28sCiAgICAgICAgICAgICAgICBvdmVyYWxsVGhyZWUsCiAgICAgICAgICAgICAgICBvdmVyYWxsRm91ciwKICAgICAgICAgICAgICAgIG92ZXJhbGxGaXZlLAogICAgICAgICAgICAgICAgb3ZlcmFsbFNpeCwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgIGxhYmVsczogWwogICAgICAgICAgICAgICAgaW5zdGFuY2UudmFyaWFibGVPbmUsCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVR3bywKICAgICAgICAgICAgICAgIGluc3RhbmNlLnZhcmlhYmxlVGhyZWUsCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZvdXIsCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZUZpdmUsCiAgICAgICAgICAgICAgICBpbnN0YW5jZS52YXJpYWJsZVNpeCwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgIHRleHRpbmZvOiAibGFiZWwrcGVyY2VudCIsCiAgICAgICAgICAgICAgdGV4dHBvc2l0aW9uOiAib3V0c2lkZSIsCiAgICAgICAgICAgICAgbWFya2VyOiB7CiAgICAgICAgICAgICAgICBjb2xvcnM6IFsKICAgICAgICAgICAgICAgICAgIiNmZjAwMjIiLAogICAgICAgICAgICAgICAgICAiI2ZmYmM0MiIsCiAgICAgICAgICAgICAgICAgICIjMDQ5NmZmIiwKICAgICAgICAgICAgICAgICAgIiM2OTRkNzUiLAogICAgICAgICAgICAgICAgICAiIzFiNTI5OSIsCiAgICAgICAgICAgICAgICAgICIjNDA0MzRlIiwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIF07CgogICAgICAgICAgdmFyIGxheW91dCA9IHsKICAgICAgICAgICAgaGVpZ2h0OiA0NTAsCiAgICAgICAgICAgIHdpZHRoOiA1NTAsCiAgICAgICAgICAgIHNob3dsZWdlbmQ6IGZhbHNlLAogICAgICAgICAgICBwYXBlcl9iZ2NvbG9yOiAiIzJiMmQ0MiIsCiAgICAgICAgICAgIHRpdGxlOiAiIiwKICAgICAgICAgICAgZm9udDogewogICAgICAgICAgICAgIGZhbWlseTogIkF2ZW5pciwgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZiIsCiAgICAgICAgICAgICAgc2l6ZTogMzAsCiAgICAgICAgICAgICAgY29sb3I6ICJ3aGl0ZSIsCiAgICAgICAgICAgICAgd2VpZ2h0OiAiYm9sZCIsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1hcmdpbjogewogICAgICAgICAgICAgIGw6IDAsCiAgICAgICAgICAgICAgcjogNTAsCiAgICAgICAgICAgICAgYjogMTAwLAogICAgICAgICAgICAgIHQ6IDEwMCwKICAgICAgICAgICAgICBwYWQ6IDQsCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIGNvbmZpZyA9IHsgcmVzcG9uc2l2ZTogdHJ1ZSB9OwogICAgICAgICAgUGxvdGx5Lm5ld1Bsb3QoIm92ZXJhbGxWYXJpYWJsZXMiLCBkYXRhLCBsYXlvdXQsIGNvbmZpZyk7CiAgICAgICAgICBpbnN0YW5jZS5yYXdEYXRhID0gZmFsc2U7CiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coIkRlbGF5ZWQgZm9yIDEgc2Vjb25kLiIpOwogICAgICAgICAgICBpbnN0YW5jZS5yZXR1cm5KU09OQWdhaW4oKTsKICAgICAgICAgIH0sIDEwMDApOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICByZXR1cm5KU09OQWdhaW46IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHdvcmtpbmdKU09OID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWNpZmljQW5hbHlzaXMzIikuaW5uZXJUZXh0OwogICAgICB2YXIgbWlkZGxlSlNPTiA9IHdvcmtpbmdKU09OOwogICAgICBjb25zdCBtaWRkbGVXb3JraW5nSlNPTiA9IG1pZGRsZUpTT047CiAgICAgIGNvbnNvbGUubG9nKCJKU09OMjogIiArIG1pZGRsZVdvcmtpbmdKU09OKTsKICAgICAgY29uc3QgY2xlYXJOb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNwZWNpZmljQW5hbHlzaXM1Iik7CiAgICAgIGNsZWFyTm9kZS5pbm5lckhUTUwgPSAiIjsKICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzNSIpOwogICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBwLmlubmVySFRNTCA9IG1pZGRsZVdvcmtpbmdKU09OOwogICAgICBkaXYuYXBwZW5kQ2hpbGQocCk7CiAgICAgIHRoaXMuc2hvd1ByaW50ID0gZmFsc2U7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzNCIpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzcGVjaWZpY0FuYWx5c2lzIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0sCgogICAgZ2V0UmVhZGFiaWxpdHlTdGF0czogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJlYWRhYmlsaXR5ID0gcnMuZ3VubmluZ0ZvZyh0aGlzLndvcmtpbmdPdXRwdXQpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnJlYWRhYmlsaXR5ICsgIiAiICsgdGhpcy53b3JraW5nT3V0cHV0KTsKICAgIH0sCgogICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAoKICAgIHVuaGlkZURhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJhd0RhdGEiKS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICB9LAoKICAgIGhpZGVEYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyYXdEYXRhIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0sCgogICAgcmVuZGVyRGF0YTogZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICB0aGlzLmdldEVtb3Rpb25TdGF0cygpOwogICAgICAgIHRoaXMuZ2V0UmVhZGFiaWxpdHlTdGF0cygpOwogICAgICAgIHJlc29sdmUoIkRhdGEgcmVuZGVyZWQhIik7CiAgICAgICAgcmVqZWN0KCJEYXRhIHJlbmRlciBmYWlsZWQiKTsKICAgICAgfSk7CgogICAgICBwcm9taXNlMS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmNvbnN0cnVjdEpTT04oKTsKICAgICAgICB0aGlzLnZpc3VhbGl6ZURhdGEoKTsKICAgICAgICB0aGlzLnJlc2V0V29ya2luZ091dHB1dCgpOwogICAgICAgIGNvbnNvbGUubG9nKCJKU09OIGFuZCBjaGFydHMgY29uc3RydWN0ZWQiKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGNvbnN0cnVjdEpTT046IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5jdXJyZW50RGF0YU9iamVjdCA9CiAgICAgICAgJ3sidGltZSI6JyArCiAgICAgICAgJyInICsKICAgICAgICB0aGlzLndvcmtpbmdUaW1lICsKICAgICAgICAnIicgKwogICAgICAgICIsIiArCiAgICAgICAgJyJ3cG0iOicgKwogICAgICAgICciJyArCiAgICAgICAgdGhpcy53cG0gKwogICAgICAgICciJyArCiAgICAgICAgIiwiICsKICAgICAgICAnImNvbnRlbnQiOicgKwogICAgICAgICciJyArCiAgICAgICAgdGhpcy53b3JraW5nT3V0cHV0ICsKICAgICAgICAnIicgKwogICAgICAgICIsIiArCiAgICAgICAgJyJBbmdyeSI6JyArCiAgICAgICAgdGhpcy5hbmdlciArCiAgICAgICAgIiwiICsKICAgICAgICAnIkZlYXIiOicgKwogICAgICAgIHRoaXMuZmVhciArCiAgICAgICAgIiwiICsKICAgICAgICAnIkV4Y2l0ZWQiOicgKwogICAgICAgIHRoaXMuZXhjaXRlbWVudCArCiAgICAgICAgIiwiICsKICAgICAgICAnIkJvcmVkIjonICsKICAgICAgICB0aGlzLmJvcmVkb20gKwogICAgICAgICIsIiArCiAgICAgICAgJyJTYWQiOicgKwogICAgICAgIHRoaXMuc2FkbmVzcyArCiAgICAgICAgIiwiICsKICAgICAgICAnIkhhcHB5IjonICsKICAgICAgICB0aGlzLmhhcHBpbmVzcyArCiAgICAgICAgIiwiICsKICAgICAgICAnInZvbHVtZSI6JyArCiAgICAgICAgdGhpcy52b2x1bWVWYWx1ZSArCiAgICAgICAgIiwiICsKICAgICAgICAnInJlYWRhYmlsaXR5IjonICsKICAgICAgICB0aGlzLnJlYWRhYmlsaXR5ICsKICAgICAgICAiLCIgKwogICAgICAgICciZmFjZUFuZ2VyIjonICsKICAgICAgICB0aGlzLmZhY2VBbmdyeSArCiAgICAgICAgIiwiICsKICAgICAgICAnImZhY2VEaXNndXN0IjonICsKICAgICAgICB0aGlzLmZhY2VEaXNndXN0ZWQgKwogICAgICAgICIsIiArCiAgICAgICAgJyJmYWNlRmVhciI6JyArCiAgICAgICAgdGhpcy5mYWNlRmVhcmZ1bCArCiAgICAgICAgIiwiICsKICAgICAgICAnImZhY2VIYXBwaW5lc3MiOicgKwogICAgICAgIHRoaXMuZmFjZUhhcHB5ICsKICAgICAgICAiLCIgKwogICAgICAgICciZmFjZU5ldXRyYWwiOicgKwogICAgICAgIHRoaXMuZmFjZU5ldXRyYWwgKwogICAgICAgICIsIiArCiAgICAgICAgJyJmYWNlU2FkbmVzcyI6JyArCiAgICAgICAgdGhpcy5mYWNlU2FkICsKICAgICAgICAiLCIgKwogICAgICAgICciZmFjZVN1cnByaXNlIjonICsKICAgICAgICB0aGlzLmZhY2VTdXJwcmlzZWQgKwogICAgICAgICJ9LCI7CiAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmF3RGF0YSIpOwogICAgICBkaXYuaW5uZXJIVE1MICs9IHRoaXMuY3VycmVudERhdGFPYmplY3Q7CiAgICAgIHRoaXMub3ZlcmFsbERhdGFPYmplY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmF3RGF0YSIpLmlubmVySFRNTDsKICAgIH0sCgogICAgcGRmUmVzdWx0czogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNob3dQcmludCA9IHRydWU7CiAgICAgIHRoaXMubXNnID0gIiI7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMucHJlcEZvclByaW50aW5nKCk7CiAgICAgIH0sIDUwMCk7CiAgICB9LAoKICAgIHByZXBGb3JQcmludGluZzogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnNhdmVKU09OKCk7CiAgICAgIHdpbmRvdy5wcmludCgpOwogICAgICB0aGlzLnNob3dQcmludCA9IGZhbHNlOwogICAgICB0aGlzLm1zZyA9ICJBbmFseXNpcyBDb21wbGV0ZSI7CiAgICB9LAoKICAgIHNhdmVKU09OOiBmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnN0IHN0b3JhZ2VPYmoyID0KICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic3BlY2lmaWNBbmFseXNpczUiKS5pbm5lclRleHQ7CiAgICAgIGNvbnN0IHN0b3JhZ2VPYmogPSAiWyIgKyBzdG9yYWdlT2JqMi5zbGljZSgwLCAtMSkgKyAiXSI7CiAgICAgIGNvbnNvbGUubG9nKCJkb3dubG9hZGFibGUgZGF0YT8iICsgc3RvcmFnZU9iaik7CiAgICAgIHZhciBkYXRhU3RyID0KICAgICAgICAiZGF0YTp0ZXh0L2pzb247Y2hhcnNldD11dGYtOCwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0b3JhZ2VPYmopOwogICAgICB2YXIgZGxBbmNob3JFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImRvd25sb2FkQW5jaG9yRWxlbSIpOwogICAgICBkbEFuY2hvckVsZW0uc2V0QXR0cmlidXRlKCJocmVmIiwgZGF0YVN0cik7CiAgICAgIGRsQW5jaG9yRWxlbS5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgdGhpcy51cmxUb1NjcmFwZSArICIuanNvbiIpOwogICAgICBkbEFuY2hvckVsZW0uY2xpY2soKTsKICAgIH0sCiAgfSwgLy8KfTsgLy8K"},{"version":3,"sources":["discourse_crawler.vue"],"names":[],"mappings":";AA8LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"discourse_crawler.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"body\" class=\"dashboard\">\n    <br /><button v-if=\"!showPrint\" id=\"apiButton\" @click=\"pdfResults\">\n      Save Results as JSON and PDF\n    </button>\n    <h1 v-if=\"showProcess3\" id=\"mainTitle\">{{ msg }}</h1>\n    <h1 v-if=\"showProcess3\" id=\"mainTitle2\">{{ msg5 }}</h1>\n    <div v-if=\"!loader\" class=\"loader\"></div>\n    <div v-if=\"!loader2\" class=\"loader2\"></div>\n\n    <div v-if=\"!progress\" class=\"progress\">\n      <div class=\"color\"></div>\n    </div>\n    <div v-if=\"!pacman\" class=\"pacman\">\n      <!-- <div class=\"pacman__eye\"></div> -->\n      <div class=\"pacman__mouth\"></div>\n      <!-- <div class=\"pacman__food\">{{ msg6 }}</div> -->\n    </div>\n\n    <p v-if=\"showProcess2\" id=\"messageTwo\">\n      {{ msg2 }}\n    </p>\n    <p v-if=\"showProcess\" id=\"messageThree\">\n      {{ msg3 }}\n    </p>\n\n    <input\n      v-if=\"showPassword2\"\n      id=\"passWordInput\"\n      type=\"input\"\n      v-model=\"userPassword\"\n      placeholder=\"PWord\"\n    /><br />\n    <button v-if=\"showPassword2\" id=\"startButton\" @click=\"checkPassWord\">\n      Submit\n    </button>\n\n    <section id=\"overallVariables2\" v-if=\"showPassword\">\n      <p id=\"results\">\n      <span id=\"overallMoralFoundations\"></span><br />\n      <section id=\"overalExplanation2\">\n        <h2 v-if=\"overallQuant\">\n          Summary of\n          <span style=\"color: hotpink\">Quantitative</span>\n          Analysis\n          \n        </h2>\n        <span id=\"overallVariables\"></span>\n      </section>\n      </p>\n      <section v-if=\"!showProcess2\" id=\"overalExplanation\">\n        <h2>\n          Summary of <span style=\"color: orange\">Qualitative</span> Analysis\n        </h2>\n        {{ overallOutputExplanation }}\n      </section>\n      <section v-if=\"showPrompt\">\n        <hr class=\"quantLine\" />\n        <h2 id=\"quant\">Quantitative Module</h2>\n        Priming Text<br />\n        <textarea\n          rows=\"4\"\n          cols=\"50\"\n          id=\"promptInput\"\n          type=\"text\"\n          v-model=\"promptInput\"\n          v-if=\"showPrompt\"\n          placeholder=\"Analyze the following text, outputting scores between 1 and 10 for \"\n        /><br />\n\n        Variables<br />\n        <input\n          v-if=\"showPrompt\"\n          id=\"variableOneInput\"\n          type=\"input\"\n          v-model=\"variableOne\"\n          placeholder=\"Variable One\"\n        /><br />\n\n        <input\n          v-if=\"showPrompt\"\n          id=\"variableTwoInput\"\n          type=\"input\"\n          v-model=\"variableTwo\"\n          placeholder=\"Variable Two\"\n        /><br />\n\n        <input\n          v-if=\"showPrompt\"\n          id=\"variableThreeInput\"\n          type=\"input\"\n          v-model=\"variableThree\"\n          placeholder=\"Variable Three\"\n        /><br />\n\n        <input\n          v-if=\"showPrompt\"\n          id=\"variableFourInput\"\n          type=\"input\"\n          v-model=\"variableFour\"\n          placeholder=\"Variable Four\"\n        /><br />\n\n        <input\n          v-if=\"showPrompt\"\n          id=\"variableFiveInput\"\n          type=\"input\"\n          v-model=\"variableFive\"\n          placeholder=\"Variable Five\"\n        /><br />\n\n        <input\n          v-if=\"showPrompt\"\n          id=\"variableSixInput\"\n          type=\"input\"\n          v-model=\"variableSix\"\n          placeholder=\"Variable Six\"\n        /><br /><br />\n\n        <hr class=\"quantLine\" />\n        <h2 id=\"qual\">Qualitative Module</h2>\n        Prompt<br />\n        <textarea\n          rows=\"4\"\n          cols=\"50\"\n          id=\"promptInput\"\n          type=\"text\"\n          v-model=\"promptInput2\"\n          v-if=\"showPrompt\"\n          placeholder=\"Perform sentiment analysis on the following text, outputting scores between 1 and 10 for \"\n        /><br /><br />\n        <hr class=\"quantLine\" />\n        <br />\n        URL to Crawl<br />\n        <input\n          v-if=\"showProcess\"\n          id=\"URLInput\"\n          type=\"input\"\n          v-model=\"urlToScrape\"\n          placeholder=\"Enter URL to Crawl\"\n        />\n        <br />\n\n        <input id=\"fileUpload\" v-if=\"dataInput\" type=\"file\" />\n\n        <p></p>\n        <button\n          v-if=\"showProcess\"\n          id=\"startButton\"\n          @click=\"checkForQualQuantSummary\"\n        >\n          Crawl Website</button\n        ><br />\n        <button v-if=\"showDataButon\" id=\"startButton\" @click=\"runPromptsOnData\">\n          Run Prompts on Data\n        </button>\n      </section>\n      <!-- <button @click=\"renderVisuals\">Overall</button> \n\n   \n    <button @click=\"getEmotionStats\">Analyze Emotion</button>\n    \n    <button @click=\"returnJSON\">Return Usable JSON</button>\n    <button @click=\"renderVisuals\">Visualize</button>\n -->\n\n      <p id=\"terminal\"></p>\n      <section v-if=\"!showProcess2\">\n        <h2 id=\"overalExplanation3\">\n          <span style=\"color: white\"\n            ><span style=\"color: rgb(113, 198, 139)\">Individual</span> Page\n            Summaries</span\n          >\n        </h2>\n        <br />\n      </section>\n      <section id=\"visuals\" class=\"visuals\"></section>\n      <br />\n      <section id=\"rawData2\"></section>\n      <section id=\"specificAnalysis\"></section>\n      <section id=\"specificAnalysis2\"></section>\n      <section id=\"specificAnalysis3\"></section>\n      <section id=\"specificAnalysis4\"></section>\n      <section id=\"specificAnalysis5\"></section>\n    </section>\n    <a id=\"downloadAnchorElem\" style=\"display: none\"></a>\n  </div>\n</template>\n\n<script>\n//import paralleldots from \"paralleldots\";\nimport * as rs from \"text-readability\";\n//import * as cheerio from 'cheerio';\nimport axios from \"axios\";\nimport Plotly from \"plotly.js-dist\";\nimport dotenv from \"dotenv\";\nimport robotsParser from 'robots-txt-parser'\n//import OpenAI from \"openai\";\ndotenv.config();\nexport default {\n  name: \"discourse_crawler\",\n  props: {},\n  data() {\n    return {\n      msg: \"Discourse Crawler\",\n      msg2: \"An AI-powered tool for performing top-level analysis of websites.\",\n      msg3: \"\",\n      msg5: \"\",\n      msg6: \"\",\n      pacman: true,\n      progress: true,\n      rawData: true,\n      loader: true,\n      loader2: true,\n      overallQuant: false,\n      urlToScrape: \"https://www.milesccoleman.com/test$\",\n      pageText: \"\",\n      pageType: \"whole\",\n      one: 0,\n      two: 0,\n      three: 0,\n      four: 0,\n      five: 0,\n      six: 0,\n      showPassword: false,\n      password: process.env.VUE_APP_ROOT_PASSWORD,\n      showPassword2: true,\n      userPassword: \"\",\n      readability: 0,\n      loading: true,\n      showProcess: true,\n      showProcess2: true,\n      showProcess3: true,\n      showPrompt: true,\n      anchorsForCrawl: [],\n      secondIteration: false,\n      JSON1: null,\n      JSON2: null,\n      JSON3: null,\n      JSON4: null,\n      moralFoundationAnalysis: \"\",\n      apiKEY: process.env.VUE_APP_ROOT_API,\n      promptInput:\n        \"Perform sentiment analysis on the following text, outputting scores between 1 and 10 for \",\n      promptInput2:\n        \"Analyze this text to identify which of the five moral foundations that it represents out of care, fairness, loyalty, authority, and purity. Include an explanation. Include in your response only identified moral foundations. Text: \",\n      variableOne: \"anger\",\n      variableTwo: \"fear\",\n      variableThree: \"happiness\",\n      variableFour: \"surprise\",\n      variableFive: \"sadness\",\n      variableSix: \"disgust\",\n      unique: [],\n      overallSummaryOutput: \"\",\n      overallOutputExplanation: \"\",\n      showPrint: true,\n      qualQuantSummary: false,\n      dataSet: \"\",\n      JSONHolder: \"\",\n      dataInput: false,\n      showDataButon: false,\n      delayTime: 3000,\n      overallNumber: \"\",\n      goAhead: false, \n      robotsDomain: \"\", \n      robotsDotText: \"\", \n      proxyRobotsUrl: \"\"\n    };\n  },\n\n  created: function () {},\n\n  methods: {\n    registerVariables: function () {\n      this.showPrompt = false;\n      const workingUrl = this.urlToScrape;\n      if (this.variableOne == \"\" || this.promptInput2 == \"\") {\n        alert(\"Please fill out the prompt parameters fully.\");\n      }\n      if (!workingUrl.endsWith(\"/\")) {\n        this.urlToScrape = this.urlToScrape + \"/\";\n        console.log(\"added slash\");\n      }\n    },\n\n    checkPassWord: function () {\n      if (this.userPassword == this.password) {\n        this.showPassword = true;\n        this.showPassword2 = false;\n        this.msg = \"Discourse Crawler\";\n        this.msg2 =\n          \"An AI-powered tool for performing top-level analysis of websites.\";\n      } else {\n        this.msg = \"incorrect password\";\n        this.msg2 = \"try again\";\n      }\n    },\n\n    checkBots: function () {\n\n\n      var pathArray = this.urlToScrape.split( '/' );\nvar protocol = pathArray[0];\nvar host = pathArray[2];\nthis.robotsDomain = protocol + '//' + host;\nthis.proxyRobotsUrl =   \"https://api.allorigins.win/raw?url=\" +\n        encodeURIComponent(this.robotsDomain + \"/robots.txt\")\nconst robotsUrl = this.proxyRobotsUrl\nconsole.log(robotsUrl)\n\naxios\n        .get(robotsUrl)\n        .then((response) => {\n          this.robotsDotText = response.data\n          console.log(this.robotsDotText)\n\n      const robots = robotsParser(\n        {\n          userAgent: 'Googlebot', // The default user agent to use when looking for allow/disallow rules, if this agent isn't listed in the active robots.txt, we use *.\n          allowOnNeutral: false, // The value to use when the robots.txt rule's for allow and disallow are balanced on whether a link can be crawled.\n        },\n      );\n      robots.parseRobots(this.robotsDomain, this.robotsDotText)\n\n          robots.canCrawlSync(this.robotsDomain); // Returns true if the link can be crawled, false if not.\n          robots.canCrawl(this.robotsDomain, (value) => {\n            console.log(this.robotsDomain + ': main Page Crawlable: ', value);\n            this.goAhead = value\n\n            if (this.goAhead == true) {\n              this.grabPage()\n              this.goAhead = false\n            }else {\n              this.msg = \"cannot crawl page as per robots.txt\"\n              this.goAhead = false\n            }\n          }); \n})\n            .catch((errors) => {\n              console.log(errors);\n              })\n    },\n\n    checkForQualQuantSummary: function () {\n      const workingUrl2 = this.urlToScrape;\n      console.log(workingUrl2);\n      this.progress = false;\n      if (workingUrl2 == \"data\") {\n        this.dataInput = true;\n        this.showDataButon = true;\n      }\n\n      if (workingUrl2 != \"data\") {\n        if (workingUrl2.endsWith(\"$\")) {\n          this.qualQuantSummary = true;\n          this.urlToScrape = workingUrl2.slice(0, -1);\n          console.log(\"qualquant summary for \" + this.urlToScrape);\n          this.checkBots()\n        } else {\n          this.checkBots()\n        }\n      }\n    },\n\n    runPromptsOnData: function () {\n      this.registerData();\n\n      setTimeout(() => {\n        this.getEmotionStats();\n      }, 3000);\n    },\n\n    registerData: function () {\n      const instance = this;\n      var files = document.getElementById(\"fileUpload\").files;\n      if (files.length <= 0) {\n        return false;\n      }\n\n      var fr = new FileReader();\n\n      fr.onload = function (e) {\n        var result = JSON.parse(e.target.result);\n        instance.dataSet = result;\n      };\n\n      fr.readAsText(files.item(0));\n    },\n\n    grabPage: function () {\n      this.registerVariables();\n      this.msg = \"Initializing\";\n      this.msg2 = \"\";\n      this.showProcess = false;\n      const url =\n        \"https://api.allorigins.win/raw?url=\" +\n        encodeURIComponent(this.urlToScrape); //+\"&callback=?\";\n      const robots = robotsParser(\n        {\n          userAgent: 'Googlebot', // The default user agent to use when looking for allow/disallow rules, if this agent isn't listed in the active robots.txt, we use *.\n          allowOnNeutral: false, // The value to use when the robots.txt rule's for allow and disallow are balanced on whether a link can be crawled.\n        },\n      );\n      axios\n        .get(url)\n        .then((response) => {\n          const data = response.data;\n          const data2 = data.replace(/\\s+/g, \" \").trim();\n          const parser = new DOMParser();\n          const html = parser.parseFromString(data2, \"text/html\");\n          const workingHTML = html;\n          workingHTML\n            .querySelectorAll(\"script, style\")\n            .forEach((s) => s.remove());\n          let htmlWithoutScripts = workingHTML\n            .querySelector(\"body\")\n            .innerText.trim();\n\n          if (this.secondIteration == false) {\n            var anchors = [],\n              l = html.links;\n            anchors.push(this.urlToScrape);\n            const tickerA = html.links.length;\n            for (var i = 0; i < l.length; i++) {\n              const counterTickerA = i;\n\n              \n\n\n\n              if (html.links[i].href.includes(this.urlToScrape)) {\n                if (!html.links[i].href.includes(\".pdf\" || \"%\")) {\nrobots.parseRobots(this.robotsDomain, this.robotsDotText)\n                  robots.useRobotsFor(this.robotsDomain)\n          robots.canCrawlSync(html.links[i].href); // Returns true if the link can be crawled, false if not.\n          robots.canCrawl(html.links[i].href, (value) => {\n            \n            this.goAhead = value\n\n            if (this.goAhead == true) {\n              anchors.push(l[i].href);\n              console.log(html.links[i].href + ': crawlable: ', value);\n              this.goAhead = false\n            }else {\n              console.log(l[i].href + \": cannot crawl page as per robots.txt\")\n              this.goAhead = false\n            }\n\n            if (counterTickerA === tickerA - 1) {\n                this.pageText = htmlWithoutScripts;\n                this.anchorsForCrawl = anchors.filter(function (item, pos) {\n                  return anchors.indexOf(item) == pos;\n                });\n\n                setTimeout(() => {\n                  console.log(\"Delayed for 3 seconds.\");\n                  this.grabSubpages();\n                }, 3000);\n              }\n          }); \n\n                }\n              }\n\n              if (html.links[i].href.includes(window.location.origin)) {\n                if (!html.links[i].href.includes(\".pdf\" || \"%\")) {\n                  const htmlConstructor =\n                    this.urlToScrape +\n                    html.links[i].href.replace(\n                      window.location.origin + \"/\",\n                      \"\"\n                    );\nrobots.parseRobots(this.robotsDomain, this.robotsDotText)\n                    robots.useRobotsFor(this.robotsDomain)\n          robots.canCrawlSync(htmlConstructor); // Returns true if the link can be crawled, false if not.\n          robots.canCrawl(htmlConstructor, (value) => {\n            this.goAhead = value\n\n            if (this.goAhead == true) {\n              anchors.push(htmlConstructor);\n              console.log(htmlConstructor + ': crawlable: ', value);\n              this.goAhead = false\n            }else {\n              console.log(htmlConstructor + \": cannot crawl page as per robots.txt\")\n              this.goAhead = false\n            }\n\n            if (counterTickerA === tickerA - 1) {\n                this.pageText = htmlWithoutScripts;\n                this.anchorsForCrawl = anchors.filter(function (item, pos) {\n                  return anchors.indexOf(item) == pos;\n                });\n\n                setTimeout(() => {\n                  console.log(\"Delayed for 3 seconds.\");\n                  this.grabSubpages();\n                }, 3000);\n              }\n        });\n                  \n                }\n              }\n            }\n          }\n        })\n        .catch((errors) => {\n          console.log(errors);\n          this.msg = errors; // Errors and stuff\n        });\n    },\n\n    grabSubpages: function () {\n      let i,\n        len = this.anchorsForCrawl.length;\n      console.log(this.anchorsForCrawl);\n      const ticker = this.anchorsForCrawl.length;\n      const workingAnchorsArray = this.anchorsForCrawl;\n      const instance = this;\n      for (i = 0; i < len; i++) {\n        fire(i);\n      }\n\n      function fire(i) {\n        setTimeout(function () {\n          const usableURL = workingAnchorsArray[i];\n          console.log(usableURL);\n          instance.progress = true;\n          instance.pacman = false;\n          instance.msg6 = usableURL;\n          const counterTicker = i;\n\n          var url =\n            \"https://api.allorigins.win/raw?url=\" +\n            encodeURIComponent(usableURL); //+ \"&callback=?\";\n          axios\n            .get(url)\n            .then((response) => {\n              const data = response.data;\n              const data2 = data.replace(/\\s+/g, \" \").trim();\n              const parser = new DOMParser();\n              const html = parser.parseFromString(data2, \"text/html\");\n              const workingHTML = html;\n              workingHTML\n                .querySelectorAll(\"script, style, br, footer, nav, iframe\")\n                .forEach((s) => s.remove());\n              let htmlWithoutScripts = workingHTML\n                .querySelector(\"body\")\n                .innerText.trim();\n              console.log(\"Crawling:\" + i + \" \" + usableURL);\n\n              instance.msg = \"Crawling\";\n              const numberA = i + 1;\n              instance.overallNumber = workingAnchorsArray.length;\n              instance.msg2 =\n                numberA +\n                \"/\" +\n                instance.overallNumber +\n                \": \" +\n                workingAnchorsArray[i];\n              var actualText = \"\";\n              const workingActualText = htmlWithoutScripts;\n              const workingActualText2 = workingActualText.replace(/\"/g, \" \");\n              const actualText2 = workingActualText2.replace(/'/g, \" \");\n              // const actualText4 = actualText3.replace(/\\r?\\n?/g, \"\");\n              // const actualText2 = actualText4.trim();\n\n              if (actualText2.length <= 49999) {\n                if (actualText2.endsWith(\".\")) {\n                  actualText = actualText2;\n                  console.log(\"period\");\n                }\n\n                if (!actualText2.endsWith(\".\")) {\n                  actualText = actualText2 + \".\";\n                  console.log(\"no period\");\n                }\n                this.pageType = \"whole\";\n                var div = document.getElementById(\"specificAnalysis\");\n                var p = document.createElement(\"div\");\n                p.innerHTML =\n                  '{\"pageType\":' +\n                '\"' +\n                'whole' +\n                '\"' +\n                ',' +\n                '\"name\":' +\n                  '\"' +\n                  usableURL +\n                  '\"' +\n                  ',' +\n                  '\"text\":' +\n                  '\"' +\n                  actualText +\n                  '\"' +\n                  '},';\n                div.appendChild(p);\n              }\n              if (actualText2.length >= 49999) {\n                if (actualText2.endsWith(\".\")) {\n                  actualText = actualText2.substring(49999, 0);\n                  console.log(\"period\");\n                }\n\n                if (!actualText2.endsWith(\".\")) {\n                  actualText = actualText2.substring(49999, 0) + \".\";\n                  console.log(\"no period\");\n                }\n                this.pageType = \"partial\";\n                var div2 = document.getElementById(\"specificAnalysis\");\n                var p2 = document.createElement(\"div\");\n                p2.innerHTML =\n                  '{\"pageType\":' +\n                '\"' +\n                'partial' +\n                '\"' +\n                ',' +\n                '\"name\":' +\n                  '\"' +\n                  usableURL +\n                  '\"' +\n                  ',' +\n                  '\"text\":' +\n                  '\"' +\n                  actualText +\n                  '\"' +\n                  '},';\n                div2.appendChild(p2);\n              }\n              if (counterTicker === ticker - 1) {\n                setTimeout(() => {\n                  console.log(\"Delayed for 2 seconds.\");\n                  instance.getEmotionStats();\n                }, 3000);\n              }\n            })\n            .catch((errors) => {\n              console.log(errors);\n              this.msg = errors; \n              this.pageType = \"whole\";\n                var div = document.getElementById(\"specificAnalysis\");\n                var p = document.createElement(\"div\");\n                p.innerHTML =\n                  '{\"pageType\":' +\n                '\"' +\n                'not_crawled' +\n                '\"' +\n                ',' +\n                '\"name\":' +\n                  '\"' +\n                  usableURL +\n                  '\"' +\n                  ',' +\n                  '\"text\":' +\n                  \n                  null +\n                  \n                  '},';\n                div.appendChild(p);// Errors\n            });\n        }, 3000 * i);\n      }\n    },\n\n    getEmotionStats: function () {\n      if (this.dataInput === false) {\n        var workingJSON = document.getElementById(\"specificAnalysis\").innerText;\n        const middleJSON = \"[\" + workingJSON.slice(0, -1) + \"]\";\n        this.JSONHolder = JSON.parse(middleJSON);\n      }\n\n      if (this.dataInput === true) {\n        this.JSONHolder = this.dataSet;\n      }\n      const workingJSON1 = this.JSONHolder;\n      console.log(workingJSON1.length);\n      let i2,\n        len2 = workingJSON1.length;\n      const ticker2 = workingJSON1.length;\n      const instance = this;\n\n      var commaOne = \"\";\n      var commaTwo = \"\";\n      var commaThree = \"\";\n      var commaFour = \"\";\n      var commaFive = \"\";\n      var jsonOne = \"\";\n\n      //all six variables\n      if (\n        instance.variableTwo != \"\" &&\n        instance.variableThree != \"\" &&\n        instance.variableFour != \"\" &&\n        instance.variableFive != \"\" &&\n        instance.variableSix != \"\"\n      ) {\n        commaOne = \", \";\n        commaTwo = \", \";\n        commaThree = \", \";\n        commaFour = \", \";\n        commaFive = \", and \";\n        jsonOne =\n          '{\"' +\n          instance.variableOne +\n          '\": number score,' +\n          '\"' +\n          instance.variableTwo +\n          '\": number score,' +\n          '\"' +\n          instance.variableThree +\n          '\": number score,' +\n          '\"' +\n          instance.variableFour +\n          '\": number score,' +\n          '\"' +\n          instance.variableFive +\n          '\": number score,' +\n          '\"' +\n          instance.variableSix +\n          '\": number score}';\n      }\n\n      //five variables\n      if (\n        instance.variableTwo != \"\" &&\n        instance.variableThree != \"\" &&\n        instance.variableFour != \"\" &&\n        instance.variableFive != \"\" &&\n        instance.variableSix == \"\"\n      ) {\n        commaOne = \", \";\n        commaTwo = \", \";\n        commaThree = \", \";\n        commaFour = \", and \";\n        commaFive = \"\";\n        jsonOne =\n          '{\"' +\n          instance.variableOne +\n          '\": number score,' +\n          '\"' +\n          instance.variableTwo +\n          '\": number score,' +\n          '\"' +\n          instance.variableThree +\n          '\": number score,' +\n          '\"' +\n          instance.variableFour +\n          '\": number score,' +\n          '\"' +\n          instance.variableFive +\n          '\": number score}';\n      }\n\n      //four variables\n      if (\n        instance.variableTwo != \"\" &&\n        instance.variableThree != \"\" &&\n        instance.variableFour != \"\" &&\n        instance.variableFive == \"\" &&\n        instance.variableSix == \"\"\n      ) {\n        commaOne = \", \";\n        commaTwo = \", \";\n        commaThree = \", and \";\n        commaFour = \"\";\n        commaFive = \"\";\n        jsonOne =\n          '{\"' +\n          instance.variableOne +\n          '\": number score,' +\n          '\"' +\n          instance.variableTwo +\n          '\": number score,' +\n          '\"' +\n          instance.variableThree +\n          '\": number score,' +\n          '\"' +\n          instance.variableFour +\n          '\": number score}';\n      }\n\n      //three variables\n      if (\n        instance.variableTwo != \"\" &&\n        instance.variableThree != \"\" &&\n        instance.variableFour == \"\" &&\n        instance.variableFive == \"\" &&\n        instance.variableSix == \"\"\n      ) {\n        commaOne = \", \";\n        commaTwo = \", and \";\n        commaThree = \"\";\n        commaFour = \"\";\n        commaFive = \"\";\n        jsonOne =\n          '{\"' +\n          instance.variableOne +\n          '\": number score,' +\n          '\"' +\n          instance.variableTwo +\n          '\": number score,' +\n          '\"' +\n          instance.variableThree +\n          '\": number score}';\n      }\n\n      //two variables\n      if (\n        instance.variableTwo != \"\" &&\n        instance.variableThree == \"\" &&\n        instance.variableFour == \"\" &&\n        instance.variableFive == \"\" &&\n        instance.variableSix == \"\"\n      ) {\n        commaOne = \" and \";\n        commaTwo = \"\";\n        commaThree = \"\";\n        commaFour = \"\";\n        commaFive = \"\";\n        jsonOne =\n          '{\"' +\n          instance.variableOne +\n          '\": number score,' +\n          '\"' +\n          instance.variableTwo +\n          '\": number score}';\n      }\n\n      //one variable\n      if (\n        instance.variableTwo == \"\" &&\n        instance.variableThree == \"\" &&\n        instance.variableFour == \"\" &&\n        instance.variableFive == \"\" &&\n        instance.variableSix == \"\"\n      ) {\n        commaOne = \"\";\n        commaTwo = \"\";\n        commaThree = \"\";\n        commaFour = \"\";\n        commaFive = \"\";\n        jsonOne = '{\"' + instance.variableOne + '\": number score}';\n      }\n\n      for (i2 = 0; i2 < len2; i2++) {\n        fire(i2);\n      }\n\n      function fire(i2) {\n        setTimeout(function () {\n          //const usableText = JSON.stringify(this.JSON1[0].text);\n          // const dotenv = require(\"dotenv\");\n          // dotenv.config();\n\n          console.log(\"Analyzing Emotion\");\n\n          const usableURL = workingJSON1[i2].name;\n          const counterTicker2 = i2;\n          const usableText = workingJSON1[i2].text;\n          const pType = workingJSON1[i2].pageType;\n\n          console.log(\n            instance.promptInput +\n              instance.variableOne +\n              commaOne +\n              instance.variableTwo +\n              commaTwo +\n              instance.variableThree +\n              commaThree +\n              instance.variableFour +\n              commaFour +\n              instance.variableFive +\n              commaFive +\n              instance.variableSix +\n              \", returning the response in JSON only. Format as\" +\n              jsonOne +\n              \". \" +\n              \"Text: \" +\n              usableText\n          );\n        if (usableText != null) {\n          const client = axios.create({\n            headers: {\n              Authorization: \"Bearer \" + instance.apiKEY,\n            },\n          });\n\n          const params = {\n            model: \"gpt-3.5-turbo-16k\",\n            messages: [\n              {\n                role: \"user\",\n                content:\n                  instance.promptInput +\n                  instance.variableOne +\n                  commaOne +\n                  instance.variableTwo +\n                  commaTwo +\n                  instance.variableThree +\n                  commaThree +\n                  instance.variableFour +\n                  commaFour +\n                  instance.variableFive +\n                  commaFive +\n                  instance.variableSix +\n                  \", returning the response in JSON only. Format as\" +\n                  jsonOne +\n                  \". \" +\n                  \"Text: \" +\n                  usableText,\n              },\n            ],\n            temperature: 0,\n            max_tokens: 500,\n            top_p: 0,\n            frequency_penalty: 0,\n            presence_penalty: 0,\n          };\n\n          client\n            .post(\"https://api.openai.com/v1/chat/completions\", params)\n            .then((result) => {\n              instance.pacman = true;\n              document.getElementById(\"mainTitle\").style.color = \"hotpink\";\n              instance.msg = \"Running Quantitative Analysis\";\n              instance.loader = false;\n              const number = i2 + 1;\n              instance.msg2 =\n                number + \"/\" + instance.overallNumber + \": \" + usableURL;\n              const rawResult = result.data.choices[0].message.content;\n              const justTheJSON = rawResult.substring(rawResult.indexOf(\"{\"));\n              console.log(i2 + \": \" + justTheJSON);\n\n              const emotionResults = JSON.parse(justTheJSON);\n              instance.one = emotionResults[instance.variableOne];\n              instance.two = emotionResults[instance.variableTwo];\n              instance.three = emotionResults[instance.variableThree];\n              instance.four = emotionResults[instance.variableFour];\n              instance.five = emotionResults[instance.variableFive];\n              instance.six = emotionResults[instance.variableSix];\n\n              var div = document.getElementById(\"specificAnalysis2\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                pType +\n                '\"' +\n                \",\" +\n                '\"name\":' +\n                '\"' +\n                usableURL +\n                '\"' +\n                \",\" +\n                '\"text\":' +\n                '\"' +\n                usableText +\n                '\"' +\n                \",\" +\n                '\"' +\n                instance.variableOne +\n                '\":' +\n                instance.one +\n                \",\" +\n                '\"' +\n                instance.variableTwo +\n                '\":' +\n                instance.two +\n                \",\" +\n                '\"' +\n                instance.variableThree +\n                '\":' +\n                instance.three +\n                \",\" +\n                '\"' +\n                instance.variableFour +\n                '\":' +\n                instance.four +\n                \",\" +\n                '\"' +\n                instance.variableFive +\n                '\":' +\n                instance.five +\n                \",\" +\n                '\"' +\n                instance.variableSix +\n                '\":' +\n                instance.six +\n                \"},\";\n              div.appendChild(p);\n            })\n            .catch((error) => {\n              console.log(error);\n              instance.msg = error;\n            });\n          if (counterTicker2 === ticker2 - 1) {\n            setTimeout(() => {\n              console.log(\"Quant delayed for 3 seconds.\");\n              instance.getMoralFoundations();\n            }, 5000);\n          }\n        }\n        if (usableText == null ) {\nvar div = document.getElementById(\"specificAnalysis2\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                \"not_crawled\" +\n                '\"' +\n                \",\" +\n                '\"name\":' +\n                '\"' +\n                usableURL +\n                '\"' +\n                \",\" +\n                '\"text\":' +\n                \n                null +\n                \n                \",\" +\n                '\"' +\n                instance.variableOne +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableTwo +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableThree +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableFour +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableFive +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableSix +\n                '\":' +\n                null +\n                \"},\";\n              div.appendChild(p);\n\n        }\n        }, instance.delayTime * i2);\n      }\n    },\n\n    getMoralFoundations: function () {\n      var workingJSON = document.getElementById(\"specificAnalysis2\").innerText;\n      const middleJSON2 = \"[\" + workingJSON.slice(0, -1) + \"]\";\n      const workingJSON2 = JSON.parse(middleJSON2);\n      let i3,\n        len3 = workingJSON2.length;\n      const ticker3 = workingJSON2.length;\n      const instance = this;\n\n      for (i3 = 0; i3 < len3; i3++) {\n        fire(i3);\n      }\n\n      function fire(i3) {\n        setTimeout(function () {\n          console.log(\"Analyzing moral foundations\");\n\n          const usableURL2 = workingJSON2[i3].name;\n          const counterTicker3 = i3;\n          const uno = workingJSON2[i3][instance.variableOne];\n          const dos = workingJSON2[i3][instance.variableTwo];\n          const tres = workingJSON2[i3][instance.variableThree];\n          const quatro = workingJSON2[i3][instance.variableFour];\n          const cinco = workingJSON2[i3][instance.variableFive];\n          const seis = workingJSON2[i3][instance.variableSix];\n          const usableText2 = workingJSON2[i3].text;\n          const pType2 = workingJSON2[i3].pageType;\n          \n          if (usableText2 != null) {\n          const client = axios.create({\n            headers: {\n              Authorization: \"Bearer \" + instance.apiKEY,\n            },\n          });\n\n          const params = {\n            model: \"gpt-3.5-turbo-16k\",\n            messages: [\n              {\n                role: \"user\",\n                content: instance.promptInput2 + usableText2,\n              },\n            ],\n            temperature: 0,\n            max_tokens: 500,\n            top_p: 0,\n            frequency_penalty: 0,\n            presence_penalty: 0,\n          };\n\n          client\n            .post(\"https://api.openai.com/v1/chat/completions\", params)\n            .then((result) => {\n              instance.loader = true;\n              document.getElementById(\"mainTitle\").style.color = \"orange\";\n              instance.msg = \"Running Qualitative Analysis\";\n              instance.loader2 = false;\n              const number2 = i3 + 1;\n              instance.msg2 =\n                number2 + \"/\" + instance.overallNumber + \": \" + usableURL2;\n              console.log(result.data.choices[0].message.content);\n              const moralFoundationResults =\n                result.data.choices[0].message.content.replaceAll('\"', \"\");\n              instance.moralFoundationAnalysis =\n                moralFoundationResults.replaceAll(\"'\", \"\");\n\n              var div = document.getElementById(\"specificAnalysis3\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                pType2 +\n                '\"' +\n                \",\" +\n                '\"name\":' +\n                '\"' +\n                usableURL2 +\n                '\"' +\n                \",\" +\n                '\"text\":' +\n                '\"' +\n                usableText2 +\n                '\"' +\n                \",\" +\n                '\"qualResponse\":' +\n                '\"' +\n                instance.moralFoundationAnalysis +\n                '\"' +\n                \",\" +\n                '\"' +\n                instance.variableOne +\n                '\":' +\n                uno +\n                \",\" +\n                '\"' +\n                instance.variableTwo +\n                '\":' +\n                dos +\n                \",\" +\n                '\"' +\n                instance.variableThree +\n                '\":' +\n                tres +\n                \",\" +\n                '\"' +\n                instance.variableFour +\n                '\":' +\n                quatro +\n                \",\" +\n                '\"' +\n                instance.variableFive +\n                '\":' +\n                cinco +\n                \",\" +\n                '\"' +\n                instance.variableSix +\n                '\":' +\n                seis +\n                \"},\";\n              div.appendChild(p);\n            })\n            .catch((error) => {\n              console.log(error);\n              this.msg = error;\n            });\n          if (counterTicker3 === ticker3 - 1) {\n            setTimeout(() => {\n              console.log(\"Qual delayed for 5 seconds.\");\n              instance.returnJSON();\n            }, 5000);\n          }\n          }\n          if (usableText2 == null) {\nvar div = document.getElementById(\"specificAnalysis3\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                \"not_crawled\" +\n                '\"' +\n                \",\" +\n                '\"name\":' +\n                '\"' +\n                usableURL2 +\n                '\"' +\n                \",\" +\n                '\"text\":' +\n                '\"' +\n                null +\n                '\"' +\n                \",\" +\n                 '\"qualResponse\":' +\n                null +\n\n                \",\" +\n                '\"' +\n                instance.variableOne +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableTwo +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableThree +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableFour +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableFive +\n                '\":' +\n                null +\n                \",\" +\n                '\"' +\n                instance.variableSix +\n                '\":' +\n                null +\n                \"},\";\n              div.appendChild(p);\n\n          }\n        }, instance.delayTime * i3); //timeout\n      } //fire\n    },\n\n    returnJSON: function () {\n      var workingJSON = document.getElementById(\"specificAnalysis3\").innerText;\n      var middleJSON = \"[\" + workingJSON.slice(0, -1) + \"]\";\n      this.JSON3 = middleJSON;\n      console.log(\"JSON2: \" + this.JSON3);\n      var div = document.getElementById(\"specificAnalysis4\");\n      var p = document.createElement(\"div\");\n      p.innerHTML = this.JSON3;\n      div.appendChild(p);\n\n      setTimeout(() => {\n        console.log(\"Delayed for 1 second.\");\n        this.renderVisuals();\n      }, 2000);\n    },\n\n    renderVisuals: function () {\n      document.getElementById(\"mainTitle\").style.color = \"#71c68b\";\n      this.loader2 = true;\n      document.getElementById(\"visuals\").style.display = \"block\";\n      this.msg = \"\";\n      this.msg2 = \"\";\n\n      var workingJSON = document.getElementById(\"specificAnalysis4\").innerText;\n      this.JSON4 = JSON.parse(workingJSON);\n\n      //const usableText = JSON.stringify(this.JSON1[0].text);\n\n      if (this.JSON4 != null) {\n        console.log(\"test\");\n        var i,\n          len = this.JSON4.length;\n        for (i = 0; i < len; i++) {\n          const usableURL = this.JSON4[i].name;\n          const uno = this.JSON4[i][this.variableOne];\n          const dos = this.JSON4[i][this.variableTwo];\n          const tres = this.JSON4[i][this.variableThree];\n          const quatro = this.JSON4[i][this.variableFour];\n          const cinco = this.JSON4[i][this.variableFive];\n          const seis = this.JSON4[i][this.variableSix];\n          const moralAnalysis = this.JSON4[i].qualResponse;\n          const pType3 = this.JSON4[i].pageType;\n          const itemNumber = i + 1;\n\n          var div = document.getElementById(\"visuals\");\n          var p = document.createElement(\"div\");\n          p.innerHTML =\n            \"<h2 style='color:#66FF79;font-size:46px;'>\" +\n            itemNumber +\n            \"/\" +\n            this.overallNumber +\n            \"</h2>\" +\n            \"<h2 style='color:hotpink;font-size:46px;'>\" +\n            usableURL +\n            \"</h2>\" +\n            \"<h3 style='color:hotpink;'>Qualitative Analysis </h3><p style='color:white;'>\" +\n            moralAnalysis +\n            \"</p><h3 style='color:orange;'>Quantitative Analysis </h3><ul style='color:orange;list-style:none;margin:0;'>\" +\n            \"<li style='color:#ff0022;'>\" +\n            this.variableOne +\n            \": \" +\n            uno +\n            \"</li>\" +\n            \"<li style='color:#ffbc42;'>\" +\n            this.variableTwo +\n            \": \" +\n            dos +\n            \"</li>\" +\n            \"<li style='color:#0496ff;'>\" +\n            this.variableThree +\n            \": \" +\n            tres +\n            \"</li>\" +\n            \"<li style='color:#694d75;'>\" +\n            this.variableFour +\n            \": \" +\n            quatro +\n            \"</li>\" +\n            \"<li style='color:#1b5299;'>\" +\n            this.variableFive +\n            \": \" +\n            cinco +\n            \"</li>\" +\n            \"<li style='color:lightgray;'>\" +\n            this.variableSix +\n            \": \" +\n            seis +\n            \"</li>\" +\n            \"<h3 style='color:#71c68b;'>Whole (crawled text is <49999 Characters), Partial (crawled text is >49999 characters, so only the first 49999 characters are included in analysis), Or Not Crawled (non-html/text content, or failed page fetch)</h3><ul style='color:white;list-style:none;margin:0;'>\" +\n            \"<li>\" +\n            pType3 +\n            \"</li>\" +\n            \"</ul>\" +\n            \"<hr>\";\n          div.appendChild(p);\n\n          if (i === len - 1) {\n            setTimeout(() => {\n              console.log(\"Delayed for 4 seconds.\");\n              this.msg = \"Analysis Complete\";\n              this.msg2 = \"\";\n              var div7 = document.getElementById(\"rawData2\");\n              var p7 = document.createElement(\"h2\");\n              p7.setAttribute(\"id\", \"overalExplanation3\");\n              p7.innerHTML = \"Raw Data\";\n              div7.appendChild(p7);\n              this.renderOverallEmotion();\n              if (this.qualQuantSummary == true) {\n                this.getOverallMoralFoundationScores();\n              }\n              if (this.qualQuantSummary == false) {\n                this.getOverallQualSummary();\n              }\n            }, 4000);\n          }\n        }\n      }\n    },\n    getOverallQualSummary: function () {\n      this.showProcess2 = false;\n      this.msg5 = this.urlToScrape;\n      var workingJSON = document.getElementById(\"specificAnalysis4\").innerText;\n      const test = JSON.parse(workingJSON);\n      const instance = this;\n      const pageType3 = \"overallQual\";\n      let overallMoralAnalysis = \"\";\n\n      const e = test.length;\n      for (var i = 0; i < e; i++) {\n        overallMoralAnalysis = overallMoralAnalysis += test[i].qualResponse; //.substring(0, 70);\n        if (i === e - 1) {\n          instance.overallSummaryOutput = overallMoralAnalysis;\n          if (!instance.overallSummaryOutput.endsWith(\".\")) {\n            instance.overallSummaryOutput = instance.overallSummaryOutput + \".\";\n          }\n\n          if (instance.overallSummaryOutput.endsWith(\".\")) {\n            instance.overallSummaryOutput = instance.overallSummaryOutput + \"\";\n          }\n\n          const client = axios.create({\n            headers: {\n              Authorization: \"Bearer \" + instance.apiKEY,\n            },\n          });\n\n          const params = {\n            model: \"gpt-3.5-turbo-16k\",\n            messages: [\n              {\n                role: \"user\",\n                content:\n                  \"Synthesize the following statements into a brief analytic summary about the overall text that those statements are referring to. Statements:\" +\n                  instance.overallSummaryOutput,\n              },\n            ],\n            temperature: 0,\n            max_tokens: 500,\n            top_p: 0,\n            frequency_penalty: 0,\n            presence_penalty: 0,\n          };\n\n          client\n            .post(\"https://api.openai.com/v1/chat/completions\", params)\n            .then((result) => {\n              instance.msg5 = instance.urlToScrape;\n              const rawResultA = result.data.choices[0].message.content;\n              instance.overallOutputExplanation = rawResultA;\n              var div = document.getElementById(\"specificAnalysis3\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                pageType3 +\n                '\"' +\n                \",\" +\n                '\"name\":' +\n                '\"' +\n                instance.urlToScrape +\n                '\"' +\n                \",\" +\n                '\"qualResponse\":' +\n                '\"' +\n                rawResultA +\n                '\"' +\n                \"},\";\n              div.appendChild(p);\n\n              setTimeout(() => {\n                console.log(\"Delayed for 1 second.\");\n                this.renderOverallEmotion();\n              }, 1000);\n            })\n            .catch((error) => {\n              console.log(error);\n              this.msg = error;\n            });\n        }\n      }\n    },\n\n    getOverallMoralFoundationScores: function () {\n      this.showProcess2 = false;\n      this.msg5 = this.urlToScrape;\n      var workingJSON = document.getElementById(\"specificAnalysis4\").innerText;\n      const test = JSON.parse(workingJSON);\n      const instance = this;\n      const pageType3 = \"overallCount\";\n      let overallMoralAnalysis = \"\";\n\n      const e = test.length;\n      for (var i = 0; i < e; i++) {\n        overallMoralAnalysis = overallMoralAnalysis += test[i].qualResponse; //.substring(0, 70);\n        if (i === e - 1) {\n          instance.overallSummaryOutput = overallMoralAnalysis;\n          if (!instance.overallSummaryOutput.endsWith(\".\")) {\n            instance.overallSummaryOutput = instance.overallSummaryOutput + \".\";\n          }\n\n          if (instance.overallSummaryOutput.endsWith(\".\")) {\n            instance.overallSummaryOutput = instance.overallSummaryOutput + \"\";\n          }\n\n          const client = axios.create({\n            headers: {\n              Authorization: \"Bearer \" + instance.apiKEY,\n            },\n          });\n\n          const params = {\n            model: \"gpt-3.5-turbo-16k\",\n            messages: [\n              {\n                role: \"user\",\n                content:\n                  'Give me numerical scores that indicate proportions of care, fairness, loyalty, authority, and purity represented in the following text formatted in JSON as {\"care\": number score,\"fairness\": number score,\"loyalty\": number score,\"authority\": number score,\"purity\": number score}. Explain those scores. Text:' +\n                  instance.overallSummaryOutput,\n              },\n            ],\n            temperature: 0,\n            max_tokens: 500,\n            top_p: 0,\n            frequency_penalty: 0,\n            presence_penalty: 0,\n          };\n\n          client\n            .post(\"https://api.openai.com/v1/chat/completions\", params)\n            .then((result) => {\n              instance.msg5 = instance.urlToScrape;\n              const rawResultA = result.data.choices[0].message.content;\n              console.log(rawResultA);\n              const justTheTextA = rawResultA.substring(\n                rawResultA.indexOf(\"}\") + 1\n              );\n              const justTheJSONA = rawResultA.substring(\n                0,\n                rawResultA.indexOf(\"}\") + 1\n              );\n              console.log(justTheTextA + \" : \" + justTheJSONA);\n              const moralResultsA = JSON.parse(justTheJSONA);\n              const overallCare = moralResultsA.care;\n              const overallFairness = moralResultsA.fairness;\n              const overallLoyalty = moralResultsA.loyalty;\n              const overallAuthority = moralResultsA.authority;\n              const overallPurity = moralResultsA.purity;\n              instance.overallOutputExplanation = justTheTextA;\n              //const moralFoundationResults3 = justTheTextA;\n              // justTheTextA.text.replaceAll('\"', \"\");\n              // \t\t\t\t\tinstance.moralFoundationAnalysis = moralFoundationResults3.replaceAll(\"'\", \"\");\n              // \t\t\t\t\tinstance.overallSummaryOutput = instance.moralFoundationAnalysis\n\n              var div = document.getElementById(\"specificAnalysis3\");\n              var p = document.createElement(\"div\");\n              p.innerHTML =\n                '{\"pageType\":' +\n                '\"' +\n                pageType3 +\n                '\"' +\n                \",\" +\n                '\"name\":' +\n                '\"' +\n                instance.urlToScrape +\n                '\"' +\n                \",\" +\n                '\"overallCare\":' +\n                overallCare +\n                \",\" +\n                '\"overallFairness\":' +\n                overallFairness +\n                \",\" +\n                '\"overallLoyalty\":' +\n                overallLoyalty +\n                \",\" +\n                '\"overallAuthority\":' +\n                overallAuthority +\n                \",\" +\n                '\"overallPurity\":' +\n                overallPurity +\n                \",\" +\n                '\"qualOverall\":' +\n                '\"' +\n                justTheTextA +\n                '\"' +\n                \"},\";\n              div.appendChild(p);\n\n              var data = [\n                {\n                  x: [\"Care\", \"Fairness\", \"Loyalty\", \"Authority\", \"Purity\"],\n                  y: [\n                    overallCare,\n                    overallFairness,\n                    overallLoyalty,\n                    overallAuthority,\n                    overallPurity,\n                  ],\n                  type: \"bar\",\n                  marker: {\n                    color: [\n                      \"#bf4e30\",\n                      \"#c6ccb2\",\n                      \"#93ff96\",\n                      \"#e5eafa\",\n                      \"#78fecf\",\n                    ],\n                  },\n                },\n              ];\n\n              var layout = {\n                height: 450,\n                width: 450,\n                showlegend: false,\n                paper_bgcolor: \"#2b2d42\",\n                plot_bgcolor: \"#2b2d42\",\n                title: \"Moral Foundations\",\n                font: {\n                  family: \"Arial, monospace\",\n                  size: 25,\n                  color: \"white\",\n                },\n                margin: {\n                  l: 50,\n                  r: 50,\n                  b: 100,\n                  t: 100,\n                  pad: 4,\n                },\n              };\n              var config = { responsive: true };\n              Plotly.newPlot(\"overallMoralFoundations\", data, layout, config);\n              setTimeout(() => {\n                console.log(\"Delayed for 1 second.\");\n                this.renderOverallEmotion();\n              }, 1000);\n            })\n            .catch((error) => {\n              console.log(error);\n              this.msg = error;\n            });\n        }\n      }\n    },\n\n    renderOverallEmotion: function () {\n      //var workingJSON =\n      //this.JSON4 = JSON.parse(workingJSON);\n      var workingJSONB = document.getElementById(\"specificAnalysis4\").innerText;\n      const test = JSON.parse(workingJSONB);\n      let overallOne = 0;\n      let overallTwo = 0;\n      let overallThree = 0;\n      let overallFour = 0;\n      let overallFive = 0;\n      let overallSix = 0;\n      console.log(test.length);\n      const instance = this;\n      instance.overallQuant = true;\n      const e = test.length;\n      for (var i = 0; i < e; i++) {\n        overallOne = overallOne + test[i][instance.variableOne];\n        overallTwo = overallTwo + test[i][instance.variableTwo];\n        overallThree = overallThree + test[i][instance.variableThree];\n        overallFour = overallFour + test[i][instance.variableFour];\n        overallFive = overallFive + test[i][instance.variableFive];\n        overallSix = overallSix + test[i][instance.variableSix];\n        if (i === e - 1) {\n          overallOne = Math.round(overallOne / e) * 10;\n          overallTwo = Math.round(overallTwo / e) * 10;\n          overallThree = Math.round(overallThree / e) * 10;\n          overallFour = Math.round(overallFour / e) * 10;\n          overallFive = Math.round(overallFive / e) * 10;\n          overallSix = Math.round(overallSix / e) * 10;\n\n          var data = [\n            {\n              type: \"pie\",\n              values: [\n                overallOne,\n                overallTwo,\n                overallThree,\n                overallFour,\n                overallFive,\n                overallSix,\n              ],\n              labels: [\n                instance.variableOne,\n                instance.variableTwo,\n                instance.variableThree,\n                instance.variableFour,\n                instance.variableFive,\n                instance.variableSix,\n              ],\n              textinfo: \"label+percent\",\n              textposition: \"outside\",\n              marker: {\n                colors: [\n                  \"#ff0022\",\n                  \"#ffbc42\",\n                  \"#0496ff\",\n                  \"#694d75\",\n                  \"#1b5299\",\n                  \"#40434e\",\n                ],\n              },\n            },\n          ];\n\n          var layout = {\n            height: 450,\n            width: 550,\n            showlegend: false,\n            paper_bgcolor: \"#2b2d42\",\n            title: \"\",\n            font: {\n              family: \"Avenir, Helvetica, Arial, sans-serif\",\n              size: 30,\n              color: \"white\",\n              weight: \"bold\",\n            },\n            margin: {\n              l: 0,\n              r: 50,\n              b: 100,\n              t: 100,\n              pad: 4,\n            },\n          };\n          var config = { responsive: true };\n          Plotly.newPlot(\"overallVariables\", data, layout, config);\n          instance.rawData = false;\n          setTimeout(() => {\n            console.log(\"Delayed for 1 second.\");\n            instance.returnJSONAgain();\n          }, 1000);\n        }\n      }\n    },\n\n    returnJSONAgain: function () {\n      var workingJSON = document.getElementById(\"specificAnalysis3\").innerText;\n      var middleJSON = workingJSON;\n      const middleWorkingJSON = middleJSON;\n      console.log(\"JSON2: \" + middleWorkingJSON);\n      const clearNode = document.getElementById(\"specificAnalysis5\");\n      clearNode.innerHTML = \"\";\n      var div = document.getElementById(\"specificAnalysis5\");\n      var p = document.createElement(\"div\");\n      p.innerHTML = middleWorkingJSON;\n      div.appendChild(p);\n      this.showPrint = false;\n      document.getElementById(\"specificAnalysis4\").style.display = \"none\";\n      document.getElementById(\"specificAnalysis\").style.display = \"none\";\n    },\n\n    getReadabilityStats: function () {\n      this.readability = rs.gunningFog(this.workingOutput);\n      console.log(this.readability + \" \" + this.workingOutput);\n    },\n\n    reset: function () {\n      location.reload();\n    },\n\n    unhideData: function () {\n      document.getElementById(\"rawData\").style.display = \"inline-block\";\n    },\n\n    hideData: function () {\n      document.getElementById(\"rawData\").style.display = \"none\";\n    },\n\n    renderData: function () {\n      const promise1 = new Promise((resolve, reject) => {\n        this.getEmotionStats();\n        this.getReadabilityStats();\n        resolve(\"Data rendered!\");\n        reject(\"Data render failed\");\n      });\n\n      promise1.then(() => {\n        this.constructJSON();\n        this.visualizeData();\n        this.resetWorkingOutput();\n        console.log(\"JSON and charts constructed\");\n      });\n    },\n\n    constructJSON: function () {\n      this.currentDataObject =\n        '{\"time\":' +\n        '\"' +\n        this.workingTime +\n        '\"' +\n        \",\" +\n        '\"wpm\":' +\n        '\"' +\n        this.wpm +\n        '\"' +\n        \",\" +\n        '\"content\":' +\n        '\"' +\n        this.workingOutput +\n        '\"' +\n        \",\" +\n        '\"Angry\":' +\n        this.anger +\n        \",\" +\n        '\"Fear\":' +\n        this.fear +\n        \",\" +\n        '\"Excited\":' +\n        this.excitement +\n        \",\" +\n        '\"Bored\":' +\n        this.boredom +\n        \",\" +\n        '\"Sad\":' +\n        this.sadness +\n        \",\" +\n        '\"Happy\":' +\n        this.happiness +\n        \",\" +\n        '\"volume\":' +\n        this.volumeValue +\n        \",\" +\n        '\"readability\":' +\n        this.readability +\n        \",\" +\n        '\"faceAnger\":' +\n        this.faceAngry +\n        \",\" +\n        '\"faceDisgust\":' +\n        this.faceDisgusted +\n        \",\" +\n        '\"faceFear\":' +\n        this.faceFearful +\n        \",\" +\n        '\"faceHappiness\":' +\n        this.faceHappy +\n        \",\" +\n        '\"faceNeutral\":' +\n        this.faceNeutral +\n        \",\" +\n        '\"faceSadness\":' +\n        this.faceSad +\n        \",\" +\n        '\"faceSurprise\":' +\n        this.faceSurprised +\n        \"},\";\n      var div = document.getElementById(\"rawData\");\n      div.innerHTML += this.currentDataObject;\n      this.overallDataObject = document.getElementById(\"rawData\").innerHTML;\n    },\n\n    pdfResults: function () {\n      this.showPrint = true;\n      this.msg = \"\";\n      setTimeout(() => {\n        this.prepForPrinting();\n      }, 500);\n    },\n\n    prepForPrinting: function () {\n      this.saveJSON();\n      window.print();\n      this.showPrint = false;\n      this.msg = \"Analysis Complete\";\n    },\n\n    saveJSON: function () {\n      const storageObj2 =\n        document.getElementById(\"specificAnalysis5\").innerText;\n      const storageObj = \"[\" + storageObj2.slice(0, -1) + \"]\";\n      console.log(\"downloadable data?\" + storageObj);\n      var dataStr =\n        \"data:text/json;charset=utf-8,\" + encodeURIComponent(storageObj);\n      var dlAnchorElem = document.getElementById(\"downloadAnchorElem\");\n      dlAnchorElem.setAttribute(\"href\", dataStr);\n      dlAnchorElem.setAttribute(\"download\", this.urlToScrape + \".json\");\n      dlAnchorElem.click();\n    },\n  }, //\n}; //\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n@import url(\"https://fonts.cdnfonts.com/css/lcd\");\n#textEmotion,\n#faceEmotion,\n#voiceEmotion,\n#wpm {\n  display: inline-block;\n}\n#mainTitle2 {\n  word-break: break-word;\n  color: hotpink;\n}\n#overallVariables {\nmargin: 0 auto;\n}\n\n#overallVariables2 {\n}\n\n#overalExplanation {\n  color: orange;\n  font-size: 30px;\n  margin-top: 25px;\n  width: 65%;\n  display: inline-block;\n}\n\n#overalExplanation2 {\n  color: orange;\n  font-size: 30px;\n  margin-top: 25px;\n  width: 65%;\n  display: inline-block;\n}\n\n#overalExplanation3 {\n  color: white;\n  font-size: 45px;\n  margin-top: 25px;\n  width: 65%;\n  display: inline-block;\n}\n\n#rawData2 {\n  color: white;\n  font-size: 30px;\n  margin-top: 25px;\n  width: 65%;\n  display: inline-block;\n}\n\n#results {\n  margin: auto;\n}\n#overallMoralFoundations {\n  display: inline-block;\n  text-align: center;\n}\n\n#overallVariables {\n  display: inline-block;\n  text-align: center;\n}\n\n#URLInput {\n  width: 50%;\n  font-size: 30px;\n  text-align: center;\n  background-color: #f7ec59;\n  color: #252627;\n  border: none;\n}\n\n#variableOneInput {\n  width: 25%;\n  font-size: 30px;\n  text-align: center;\n  background-color: #ff0022;\n  color: #252627;\n  border: none;\n}\n\n#variableTwoInput {\n  width: 25%;\n  font-size: 30px;\n  text-align: center;\n  background-color: #ffbc42;\n  color: #252627;\n  border: none;\n}\n\n#variableThreeInput {\n  width: 25%;\n  font-size: 30px;\n  text-align: center;\n  background-color: #0496ff;\n  color: #252627;\n  border: none;\n}\n\n#variableFourInput {\n  width: 25%;\n  font-size: 30px;\n  text-align: center;\n  background-color: #694d75;\n  color: #252627;\n  border: none;\n}\n\n#variableFiveInput {\n  width: 25%;\n  font-size: 30px;\n  text-align: center;\n  background-color: #1b5299;\n  color: #252627;\n  border: none;\n}\n#passWordInput {\n  width: 30%;\n  font-size: 30px;\n  text-align: center;\n  background-color: lightgray;\n  color: #252627;\n  border: none;\n  margin-bottom: 1px;\n}\n#variableSixInput {\n  width: 25%;\n  font-size: 30px;\n  text-align: center;\n  background-color: lightgray;\n  color: #252627;\n  border: none;\n}\n\n#promptInput {\n  width: 50%;\n  font-size: 20px;\n  background-color: hotpink;\n  color: #252627;\n  border: none;\n  white-space: normal;\n}\n\n#quant {\n  color: hotpink;\n}\n\n#quant,\n#qual {\n  color: orange;\n}\n\n.quantLine {\n  width: 50%;\n}\n.input-element {\n  font-size: 100px;\n  width: 400px;\n}\n#startButton {\n  background: #2f4858;\n  font-size: 30px;\n  color: white;\n  border: none;\n}\n\n#startButton:hover {\n  background: purple;\n}\n\n#promptButton {\n  background: #2f4858;\n  font-size: 30px;\n  color: white;\n  border: none;\n}\n#promptButton:hover {\n  background-color: purple;\n}\n#apiButton {\n  background: orange;\n  font-size: 25px;\n  border-style: none;\n}\n#apiButton:hover {\n  background: hotpink;\n}\n#visuals {\n  color: #ff66d8;\n  border: solid;\n  font-size: 20px;\n  width: 75%;\n  margin: auto;\n  padding: 10px;\n  word-break: break-word;\n  list-style: none;\n  display: none;\n}\n#analysisContent {\n  color: white;\n}\nh2 {\n  color: white;\n}\n\n#specificAnalysis {\n  display: block;\n}\n#specificAnalysis2 {\n  color: pink;\n  display: none;\n}\n#specificAnalysis3 {\n  color: blue;\n  display: none;\n}\n#specificAnalysis5 {\n  color: orange;\n  font-size: 20px;\n}\n\n#specificAnalysis4 {\n  color: limegreen;\n  display: block;\n}\ndiv {\n  background-color: none;\n  color: #71c68b;\n}\n.chartWindow {\n  position: relative;\n  display: inline-block;\n  width: 80%;\n}\n.optionsButton {\n  height: 50px;\n  width: 75px;\n  padding: 12px;\n  font-size: 10px;\n  margin: 5px;\n  border: none;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n}\n\n.title {\n  color: white;\n}\n\n#messageTwo {\n  color: #92dce5;\n  font-size: 25px;\n}\n\n#messageThree {\n  color: white;\n  font-size: 25px;\n  margin-left: 10%;\n}\n\n#begin {\n  background-color: #c300ff;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin-top: 40px;\n  margin-bottom: -20px;\n}\n\n#begin:hover {\n  background-color: #fdfd96;\n}\n\n#start {\n  background-color: #cbc3e3;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin: 10px;\n}\n\n#start:hover {\n  background-color: lightgreen;\n}\n\n#stop {\n  background-color: #cbc3e3;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin: 10px;\n}\n\n#stop:hover {\n  background-color: #ff726f;\n}\n\n#reset {\n  background-color: #cbc3e3;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin: 10px;\n}\n\n#reset:hover {\n  background-color: lightyellow;\n}\n\n#pdf {\n  background-color: #c300ff;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin: 10px;\n}\n\n#pdf:hover {\n  background-color: #00ffc3;\n}\n\n#next {\n  background-color: #7766c6;\n  border: none;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 20px;\n  margin-top: 40px;\n  margin-bottom: -20px;\n}\n\n#next:hover {\n  background-color: #ffc300;\n}\n\n#output {\n  margin: auto;\n  color: #f48d79;\n  background-color: #222831;\n  width: 80%;\n  text-align: left;\n  overflow: auto;\n  height: 170px;\n  font-size: 25px;\n  margin-top: 0px;\n  margin-bottom: 0px;\n}\n\n#wpmChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: 3px;\n  margin-bottom: 0px;\n}\n\n#readabilityChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: 3px;\n  margin-bottom: 0px;\n}\n\n#volumeChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: -3px;\n}\n\n#textEmotionChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: -3px;\n}\n\n#faceEmotionChart {\n  overflow: auto;\n  width: 80%;\n  display: inline-block;\n  margin-top: -3px;\n}\n\n#rawData {\n  margin: auto;\n  color: lawngreen;\n  background-color: #222831;\n  width: 80%;\n  text-align: left;\n  overflow: scroll;\n  height: 100px;\n  font-size: 25px;\n  margin: 0px;\n}\n\n#dataHideButton {\n  margin: auto;\n  color: #222831;\n  background-color: #222831;\n  width: 40%;\n  text-align: center;\n  height: 30px;\n  font-size: 10px;\n  margin: 0px;\n  border: none;\n}\n\n#dataShowButton {\n  margin: auto;\n  color: #222831;\n  background-color: #222831;\n  width: 40%;\n  text-align: center;\n  height: 30px;\n  font-size: 10px;\n  margin: 0px;\n  border: none;\n}\n\nh1 {\n  font-size: 50px;\n}\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0px;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\n#talking {\n  height: 100px;\n  margin-bottom: -20px;\n  -webkit-filter: invert(1);\n  filter: invert(1);\n}\n\n#timer {\n  background: #222831;\n  color: white;\n  font-size: 50px;\n  font-family: \"LCD\", sans-serif;\n  height: 100px;\n  width: 80%;\n  border: none;\n  font-weight: bold;\n  text-align: center;\n  margin-bottom: 0px;\n}\n\n#timeHolder {\n  background-color: #123b52;\n  color: white;\n  display: none;\n  margin-bottom: 0px;\n}\n\n#speakingTime {\n  background-color: #00ffc3;\n  outline: none;\n  scroll-behavior: smooth;\n  height: 50px;\n  width: 100px;\n  font-weight: bold;\n  color: black;\n  font-family: Arial, sans-serif;\n  font-size: 21px;\n  margin: 10px;\n  text-align: center;\n  border: none;\n}\n\n#speakingTime:hover {\n  background-color: #c300ff;\n}\n\n#volume-visualizer-wrapper {\n  background-color: #222831;\n  margin-top: 0px;\n  padding: 0px;\n  margin-bottom: 0px;\n  width: 80%;\n  display: inline-block;\n  padding-bottom: 10px;\n}\n\n#volume-visualizer {\n  --volume: 0%;\n  position: relative;\n  height: 10px;\n  background-color: #222831;\n  margin-top: 0px;\n  margin-bottom: 0px;\n  width: 100%;\n  border: none;\n  display: inline-block;\n}\n\n#volume-visualizer::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  width: var(--volume);\n  background-color: #c300ff;\n  transition: width 100ms linear;\n}\n#container {\n  height: 200px;\n  margin-bottom: 0px;\n  display: none;\n  margin-top: -100px;\n}\n\n.video-container {\n  position: relative;\n  margin-top: 0px;\n  background-color: #222831;\n  width: 80%;\n  display: inline-block;\n}\n\ncanvas {\n  position: absolute;\n  left: 0;\n  top: 0px;\n}\n.result-container {\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n}\n.result-container > div {\n  font-size: 1.3rem;\n  padding: 0.5rem;\n  margin: 5px 0;\n  color: white;\n  text-transform: capitalize;\n}\n\nvideo {\n  width: 100%;\n  margin-bottom: -150px;\n  margin-top: 0px;\n}\n\n#loading {\n  height: 50px;\n}\n\n#loadingContainer {\n  color: #fdfd96;\n  margin-bottom: 150%;\n  font-size: 50px;\n}\n\n#initialMessage {\n  font-size: 20px;\n  color: #c300ff;\n}\n\n#footer {\n  display: flex;\n  position: float;\n  bottom: 0;\n  margin-top: 27%;\n  height: 3rem;\n  text-align: left;\n}\n\n#bugs {\n  color: white;\n  font-size: 12px;\n}\n\n@page {\n  size: A3 landscape;\n  counter-increment: page;\n  margin: none;\n}\n\n@import url(\"https://fonts.googleapis.com/css?family=Slabo+27px&display=swap\");\n*,\n*:after,\n*:before {\n  box-sizing: border-box;\n}\n\nbody {\n  background: #000;\n  color: #fff;\n  padding: 0;\n  margin: 0;\n  font-family: \"Slabo 27px\", serif;\n  display: flex;\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n}\n\n.pacman {\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  background: hotpink;\n  position: relative;\n  margin: auto;\n}\n\n/* .pacman__eye {\n  position: absolute;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  top: 20px;\n  right: 40px;\n  background: #333333;\n} */\n\n.pacman__mouth {\n  background: #2b2d42;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  clip-path: polygon(100% 74%, 44% 48%, 100% 21%);\n  animation-name: eat;\n  animation-duration: 0.7s;\n  animation-iteration-count: infinite;\n}\n\n/* .pacman__food {\n  position: absolute;\n  width: 0px;\n  height: 0px;\n  font-size: 10px;\n  background: #fff;\n  border-radius: 0%;\n  color: white;\n  top: 40%;\n  left: 120px;\n  animation-name: food;\n  animation-duration: 0.7s;\n  animation-iteration-count: infinite;\n} */\n\n@keyframes eat {\n  0% {\n    clip-path: polygon(100% 74%, 44% 48%, 100% 21%);\n  }\n  25% {\n    clip-path: polygon(100% 60%, 44% 48%, 100% 40%);\n  }\n  50% {\n    clip-path: polygon(100% 50%, 44% 48%, 100% 50%);\n  }\n  75% {\n    clip-path: polygon(100% 59%, 44% 48%, 100% 35%);\n  }\n  100% {\n    clip-path: polygon(100% 74%, 44% 48%, 100% 21%);\n  }\n}\n\n@keyframes food {\n  0% {\n    transform: translateX(0);\n    opacity: 1;\n  }\n  100% {\n    transform: translateX(-50px);\n    opacity: 0;\n  }\n}\n\n.progress {\n  position: relative;\n  height: 10px;\n  width: 100%;\n}\n.progress .color {\n  position: absolute;\n  background-color: orange;\n  width: 0px;\n  height: 10px;\n  border-radius: 15px;\n  animation: progres 4s infinite linear;\n  margin-bottom: 10%;\n}\n@keyframes progres {\n  0% {\n    width: 0%;\n  }\n  10% {\n    width: 10%;\n  }\n  20% {\n    width: 20%;\n  }\n  30% {\n    width: 30%;\n  }\n  40% {\n    width: 40%;\n  }\n  50% {\n    width: 50%;\n  }\n  60% {\n    width: 60%;\n  }\n  70% {\n    width: 70%;\n  }\n  80% {\n    width: 80%;\n  }\n  90% {\n    width: 90%;\n  }\n  100% {\n    width: 100%;\n  }\n}\n\n/* HTML: <div class=\"loader\"></div> */\n.loader {\n  width: 50%;\n  height: 20px;\n  box-shadow: 0 3px 0 orange;\n  display: grid;\n  margin-left: 25%;\n}\n.loader:before,\n.loader:after {\n  content: \"\";\n  grid-area: 1/1;\n  background: radial-gradient(circle closest-side, var(--c, hotpink) 92%, #0000)\n    0 0 / calc(100% / 4) 100%;\n  animation: l4 1s infinite linear;\n}\n.loader:after {\n  --c: #000;\n  background-color: #92dce5;\n  box-shadow: 0 -2px 0 0 #fff;\n  clip-path: inset(-2px calc(50% - 10px));\n}\n@keyframes l4 {\n  100% {\n    background-position: calc(100% / 3) 0;\n  }\n}\n\n.loader2 {\n  width: 50%;\n  height: 20px;\n  box-shadow: 0 3px 0 hotpink;\n  display: grid;\n  margin-left: 25%;\n}\n.loader2:before,\n.loader2:after {\n  content: \"\";\n  grid-area: 1/1;\n  background: radial-gradient(circle closest-side, var(--c, orange) 92%, #0000)\n    0 0 / calc(100% / 4) 100%;\n  animation: l4 1s infinite linear;\n}\n.loader2:after {\n  --c: #000;\n  background-color: #71c68b;\n  box-shadow: 0 -2px 0 0 #fff;\n  clip-path: inset(-2px calc(50% - 10px));\n}\n@keyframes l4 {\n  100% {\n    background-position: calc(100% / 3) 0;\n  }\n}\n</style>\n"]}]}